2020-12-09 17:24:16,607 p=3221 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-09 17:24:16,608 p=3221 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-09 17:24:16,608 p=3221 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-09 17:24:16,614 p=3221 u=leonardopuga n=ansible | host_list declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-09 17:24:16,614 p=3221 u=leonardopuga n=ansible | script declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-09 17:24:16,618 p=3221 u=leonardopuga n=ansible | Parsed /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-09 17:24:16,727 p=3221 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-09 17:24:16,728 p=3221 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-09 17:24:16,729 p=3221 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-09 17:24:16,730 p=3221 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-09 17:24:16,731 p=3221 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-09 17:24:16,732 p=3221 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-09 17:24:16,737 p=3221 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-09 17:24:16,740 p=3221 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-09 17:24:16,740 p=3221 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-09 17:24:16,740 p=3221 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-09 17:24:16,740 p=3221 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-09 17:24:16,741 p=3221 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-09 17:24:16,743 p=3221 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-09 17:24:16,751 p=3221 u=leonardopuga n=ansible | TASK [Gathering Facts] **************************************************************************************************************************************
2020-12-09 17:24:16,763 p=3224 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-09 17:24:16,765 p=3224 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/Users/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-09 17:24:26,779 p=3224 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket "/Users/leonardopuga/.ansible/cp/e7ac1fc8ab" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out\r\n')
2020-12-09 17:24:26,785 p=3221 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/Users/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out",
    "unreachable": true
}
2020-12-09 17:24:26,787 p=3221 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-09 17:24:26,787 p=3221 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-10 11:43:07,873 p=4200 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-10 11:43:07,874 p=4200 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-10 11:43:07,874 p=4200 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-10 11:43:07,883 p=4200 u=leonardopuga n=ansible | host_list declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-10 11:43:07,883 p=4200 u=leonardopuga n=ansible | script declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-10 11:43:07,889 p=4200 u=leonardopuga n=ansible | Parsed /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-10 11:43:08,066 p=4200 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-10 11:43:08,069 p=4200 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-10 11:43:08,072 p=4200 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:43:08,073 p=4200 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-10 11:43:08,076 p=4200 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:43:08,077 p=4200 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:43:08,078 p=4200 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:43:08,079 p=4200 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:43:08,083 p=4200 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-10 11:43:08,086 p=4200 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-10 11:43:08,087 p=4200 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-10 11:43:08,087 p=4200 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-10 11:43:08,087 p=4200 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-10 11:43:08,087 p=4200 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-10 11:43:08,089 p=4200 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-10 11:43:08,101 p=4200 u=leonardopuga n=ansible | TASK [Gathering Facts] **************************************************************************************************************************************
2020-12-10 11:43:08,113 p=4203 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-10 11:43:08,114 p=4203 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/Users/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-10 11:43:18,131 p=4203 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket "/Users/leonardopuga/.ansible/cp/e7ac1fc8ab" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out\r\n')
2020-12-10 11:43:18,137 p=4200 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/Users/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out",
    "unreachable": true
}
2020-12-10 11:43:18,139 p=4200 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-10 11:43:18,139 p=4200 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-10 11:44:32,671 p=4246 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-10 11:44:32,671 p=4246 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-10 11:44:32,672 p=4246 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-10 11:44:32,681 p=4246 u=leonardopuga n=ansible | host_list declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-10 11:44:32,682 p=4246 u=leonardopuga n=ansible | script declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-10 11:44:32,689 p=4246 u=leonardopuga n=ansible | Parsed /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-10 11:44:32,837 p=4246 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-10 11:44:32,838 p=4246 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-10 11:44:32,840 p=4246 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:44:32,840 p=4246 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-10 11:44:32,842 p=4246 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:44:32,842 p=4246 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:44:32,843 p=4246 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:44:32,844 p=4246 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-10 11:44:32,848 p=4246 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-10 11:44:32,852 p=4246 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-10 11:44:32,852 p=4246 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-10 11:44:32,852 p=4246 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-10 11:44:32,852 p=4246 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-10 11:44:32,853 p=4246 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-10 11:44:32,855 p=4246 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-10 11:44:32,865 p=4246 u=leonardopuga n=ansible | META: ran handlers
2020-12-10 11:44:32,870 p=4246 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-10 11:44:32,905 p=4246 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-10 11:44:32,910 p=4246 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-10 11:44:32,934 p=4246 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-10 11:44:32,938 p=4246 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-10 11:44:32,963 p=4251 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-10 11:44:32,964 p=4251 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/Users/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-10 11:44:42,982 p=4251 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket "/Users/leonardopuga/.ansible/cp/e7ac1fc8ab" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out\r\n')
2020-12-10 11:44:42,989 p=4246 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/Users/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out",
    "unreachable": true
}
2020-12-10 11:44:42,991 p=4246 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-10 11:44:42,991 p=4246 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=2    rescued=0    ignored=0   
2020-12-12 23:05:10,502 p=10187 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:05:10,503 p=10187 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:05:10,504 p=10187 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:05:10,520 p=10187 u=leonardopuga n=ansible | host_list declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-12 23:05:10,521 p=10187 u=leonardopuga n=ansible | script declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-12 23:05:10,530 p=10187 u=leonardopuga n=ansible | Parsed /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-12 23:05:10,738 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:05:10,742 p=10187 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:05:10,745 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:05:10,746 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:05:10,747 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:05:10,748 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:05:10,750 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:05:10,751 p=10187 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:05:10,754 p=10187 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:05:10,760 p=10187 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:05:10,764 p=10187 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:05:10,764 p=10187 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:05:10,764 p=10187 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:05:10,764 p=10187 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:05:10,765 p=10187 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:05:10,767 p=10187 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:05:10,782 p=10187 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:05:10,787 p=10187 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:05:10,831 p=10187 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:05:10,836 p=10187 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:05:10,872 p=10187 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:05:10,880 p=10187 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:05:10,910 p=10187 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:05:10,917 p=10187 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:05:10,946 p=10187 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:05:10,952 p=10187 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:05:10,980 p=10187 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:05:10,984 p=10187 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:05:11,013 p=10187 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:05:11,018 p=10187 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:05:11,045 p=10199 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-12 23:05:11,047 p=10199 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/Users/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-12 23:05:21,065 p=10199 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket "/Users/leonardopuga/.ansible/cp/e7ac1fc8ab" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out\r\n')
2020-12-12 23:05:21,069 p=10187 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/Users/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out",
    "unreachable": true
}
2020-12-12 23:05:21,071 p=10187 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:05:21,071 p=10187 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=6    rescued=0    ignored=0   
2020-12-12 23:08:04,311 p=10238 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:08:04,311 p=10238 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:08:04,312 p=10238 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:08:04,319 p=10238 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:08:04,320 p=10238 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:08:04,320 p=10238 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:08:04,320 p=10238 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:08:04,323 p=10238 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:08:04,439 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:08:04,439 p=10238 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:08:04,441 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:08:04,442 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:08:04,443 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:08:04,444 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:08:04,445 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:08:04,446 p=10238 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:08:04,447 p=10238 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:08:04,452 p=10238 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:08:04,456 p=10238 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:08:04,456 p=10238 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:08:04,456 p=10238 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:08:04,456 p=10238 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:08:04,457 p=10238 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:08:04,459 p=10238 u=leonardopuga n=ansible | [WARNING]: Could not match supplied host pattern, ignoring: win

2020-12-12 23:08:04,459 p=10238 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:08:04,459 p=10238 u=leonardopuga n=ansible | skipping: no hosts matched
2020-12-12 23:08:04,459 p=10238 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:09:05,710 p=10255 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:09:05,710 p=10255 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:09:05,711 p=10255 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:09:05,717 p=10255 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:09:05,718 p=10255 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:09:05,718 p=10255 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:09:05,718 p=10255 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:09:05,718 p=10255 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:09:05,721 p=10255 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:09:05,837 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:09:05,837 p=10255 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:09:05,839 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:09:05,840 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:09:05,841 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:09:05,842 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:09:05,844 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:09:05,845 p=10255 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:09:05,845 p=10255 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:09:05,850 p=10255 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:09:05,854 p=10255 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:09:05,854 p=10255 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:09:05,854 p=10255 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:09:05,854 p=10255 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:09:05,855 p=10255 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:09:05,858 p=10255 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:09:05,867 p=10255 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:09:05,872 p=10255 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:09:05,903 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:05,907 p=10255 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:09:05,936 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:05,943 p=10255 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:09:05,971 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:05,977 p=10255 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:09:06,005 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:06,013 p=10255 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:09:06,040 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:06,045 p=10255 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:09:06,073 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:06,076 p=10255 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:09:06,103 p=10264 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:09:06,104 p=10264 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:09:06,123 p=10264 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315 `" && echo ansible-tmp-1607810946.122406-10264-135239180838315="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315 `" ) && sleep 0'
2020-12-12 23:09:06,139 p=10264 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:09:06,337 p=10264 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:09:06,338 p=10264 u=leonardopuga n=ansible | <127.0.0.1> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-10255q5kvbil2/tmpe6266t6c TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:09:06,339 p=10264 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:09:06,351 p=10264 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:09:09,164 p=10264 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607810946.122406-10264-135239180838315/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:09:09,180 p=10255 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:09:09,189 p=10255 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:09:09,223 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:09,228 p=10255 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:09:09,259 p=10255 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:09:09,265 p=10255 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:09:09,299 p=10255 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:09:09,303 p=10255 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:09:09,345 p=10255 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:09:09,349 p=10255 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:09:09,352 p=10255 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:09:09,353 p=10255 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:09:09,354 p=10255 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:10:25,442 p=10314 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:10:25,442 p=10314 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:10:25,443 p=10314 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:10:25,449 p=10314 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:10:25,449 p=10314 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:10:25,449 p=10314 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:10:25,449 p=10314 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:10:25,449 p=10314 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:10:25,450 p=10314 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:10:25,450 p=10314 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:10:25,450 p=10314 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:10:25,450 p=10314 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:10:25,450 p=10314 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:10:25,450 p=10314 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:10:25,454 p=10314 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:10:25,565 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:10:25,566 p=10314 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:10:25,567 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:10:25,568 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:10:25,570 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:10:25,571 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:10:25,572 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:10:25,574 p=10314 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:10:25,574 p=10314 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:10:25,579 p=10314 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:10:25,583 p=10314 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:10:25,583 p=10314 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:10:25,583 p=10314 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:10:25,583 p=10314 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:10:25,584 p=10314 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:10:25,587 p=10314 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:10:25,597 p=10314 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:10:25,601 p=10314 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:10:25,632 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:25,636 p=10314 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:10:25,664 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:25,671 p=10314 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:10:25,700 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:25,706 p=10314 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:10:25,734 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:25,741 p=10314 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:10:25,768 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:25,772 p=10314 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:10:25,800 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:25,804 p=10314 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:10:25,831 p=10323 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:10:25,831 p=10323 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:10:25,841 p=10323 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928 `" && echo ansible-tmp-1607811025.8409119-10323-2891725122928="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928 `" ) && sleep 0'
2020-12-12 23:10:25,856 p=10323 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:10:26,043 p=10323 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:10:26,044 p=10323 u=leonardopuga n=ansible | <127.0.0.1> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-10314p3xvbpt4/tmp17gzwqf2 TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:10:26,045 p=10323 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:10:26,055 p=10323 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:10:27,648 p=10323 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811025.8409119-10323-2891725122928/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:10:27,666 p=10314 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:10:27,672 p=10314 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:10:27,703 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:27,708 p=10314 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:10:27,743 p=10314 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:10:27,748 p=10314 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:10:27,785 p=10314 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:10:27,791 p=10314 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:10:27,830 p=10314 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:10:27,834 p=10314 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:10:27,838 p=10314 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:10:27,839 p=10314 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:10:27,840 p=10314 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:13:14,104 p=10397 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:13:14,105 p=10397 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:13:14,105 p=10397 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:13:14,111 p=10397 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:13:14,111 p=10397 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:13:14,111 p=10397 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:13:14,111 p=10397 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:13:14,112 p=10397 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:13:14,112 p=10397 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:13:14,112 p=10397 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:13:14,112 p=10397 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:13:14,112 p=10397 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:13:14,112 p=10397 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:13:14,113 p=10397 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:13:14,117 p=10397 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:13:14,231 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:13:14,231 p=10397 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:13:14,233 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:13:14,234 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:13:14,235 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:13:14,236 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:13:14,238 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:13:14,239 p=10397 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:13:14,239 p=10397 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:13:14,244 p=10397 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:13:14,248 p=10397 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:13:14,248 p=10397 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:13:14,248 p=10397 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:13:14,248 p=10397 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:13:14,249 p=10397 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:13:14,252 p=10397 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:13:14,261 p=10397 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:13:14,266 p=10397 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:13:14,297 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:14,300 p=10397 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:13:14,330 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:14,337 p=10397 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:13:14,364 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:14,371 p=10397 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:13:14,398 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:14,404 p=10397 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:13:14,432 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:14,436 p=10397 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:13:14,463 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:14,469 p=10397 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:13:14,496 p=10406 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:13:14,496 p=10406 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:13:14,507 p=10406 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279 `" && echo ansible-tmp-1607811194.507224-10406-172141946477279="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279 `" ) && sleep 0'
2020-12-12 23:13:14,523 p=10406 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:13:14,714 p=10406 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:13:14,715 p=10406 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-10397boj91vvp/tmpq8qdyj12 TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:13:14,716 p=10406 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:13:14,727 p=10406 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:13:16,295 p=10406 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811194.507224-10406-172141946477279/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:13:16,313 p=10397 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:13:16,321 p=10397 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:13:16,356 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:16,361 p=10397 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:13:16,393 p=10397 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:13:16,398 p=10397 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:13:16,433 p=10397 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:13:16,436 p=10397 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:13:16,477 p=10397 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:13:16,481 p=10397 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:13:16,487 p=10397 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:13:16,488 p=10397 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:13:16,489 p=10397 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:14:25,974 p=10450 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:14:25,975 p=10450 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:14:25,975 p=10450 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:14:25,981 p=10450 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:14:25,982 p=10450 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:14:25,982 p=10450 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:14:25,982 p=10450 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:14:25,982 p=10450 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:14:25,986 p=10450 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:14:26,098 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:14:26,099 p=10450 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:14:26,100 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:14:26,101 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:14:26,102 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:14:26,104 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:14:26,105 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:14:26,106 p=10450 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:14:26,107 p=10450 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:14:26,113 p=10450 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:14:26,116 p=10450 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:14:26,116 p=10450 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:14:26,116 p=10450 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:14:26,117 p=10450 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:14:26,117 p=10450 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:14:26,120 p=10450 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:14:26,128 p=10450 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:14:26,133 p=10450 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:14:26,165 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:26,168 p=10450 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:14:26,196 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:26,202 p=10450 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:14:26,229 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:26,236 p=10450 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:14:26,264 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:26,270 p=10450 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:14:26,298 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:26,302 p=10450 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:14:26,330 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:26,337 p=10450 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:14:26,364 p=10459 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:14:26,365 p=10459 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:14:26,374 p=10459 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485 `" && echo ansible-tmp-1607811266.37411-10459-195165753368485="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485 `" ) && sleep 0'
2020-12-12 23:14:26,389 p=10459 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:14:26,578 p=10459 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:14:26,579 p=10459 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-104500rjr9x2w/tmpn006lz3g TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:14:26,580 p=10459 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:14:26,590 p=10459 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:14:29,519 p=10459 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811266.37411-10459-195165753368485/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:14:29,536 p=10450 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:14:29,545 p=10450 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:14:29,582 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:29,588 p=10450 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:14:29,620 p=10450 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:14:29,625 p=10450 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:14:29,660 p=10450 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:14:29,664 p=10450 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:14:29,701 p=10450 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:14:29,706 p=10450 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:14:29,709 p=10450 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:14:29,711 p=10450 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:14:29,711 p=10450 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:24:12,739 p=10552 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:24:12,740 p=10552 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:24:12,741 p=10552 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:24:12,747 p=10552 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:24:12,748 p=10552 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:24:12,748 p=10552 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:24:12,748 p=10552 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:24:12,752 p=10552 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:24:12,862 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:24:12,862 p=10552 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:24:12,864 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:24:12,865 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:24:12,866 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:24:12,867 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:24:12,869 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:24:12,870 p=10552 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:24:12,871 p=10552 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:24:12,876 p=10552 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:24:12,879 p=10552 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:24:12,879 p=10552 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:24:12,879 p=10552 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:24:12,880 p=10552 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:24:12,880 p=10552 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:24:12,883 p=10552 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:24:12,893 p=10552 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:24:12,898 p=10552 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:24:12,929 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:12,933 p=10552 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:24:12,962 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:12,969 p=10552 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:24:12,997 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:13,004 p=10552 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:24:13,031 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:13,037 p=10552 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:24:13,064 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:13,069 p=10552 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:24:13,096 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:13,102 p=10552 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:24:13,129 p=10561 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:24:13,129 p=10561 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:24:13,138 p=10561 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559 `" && echo ansible-tmp-1607811853.138359-10561-222627016476559="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559 `" ) && sleep 0'
2020-12-12 23:24:13,154 p=10561 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:24:13,340 p=10561 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:24:13,341 p=10561 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-105526yijwk70/tmprh9fbcda TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:24:13,342 p=10561 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:24:13,352 p=10561 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:24:14,633 p=10561 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811853.138359-10561-222627016476559/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:24:14,652 p=10552 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:24:14,659 p=10552 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:24:14,694 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:14,699 p=10552 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:24:14,729 p=10552 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:24:14,735 p=10552 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:24:14,769 p=10552 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:24:14,773 p=10552 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:24:14,814 p=10552 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:24:14,818 p=10552 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:24:14,821 p=10552 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:24:14,822 p=10552 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:24:14,822 p=10552 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:25:49,310 p=10638 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:25:49,310 p=10638 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:25:49,310 p=10638 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:25:49,316 p=10638 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:25:49,316 p=10638 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:25:49,316 p=10638 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:25:49,316 p=10638 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:25:49,316 p=10638 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:25:49,317 p=10638 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:25:49,317 p=10638 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:25:49,317 p=10638 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:25:49,317 p=10638 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:25:49,317 p=10638 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:25:49,317 p=10638 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:25:49,321 p=10638 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:25:49,434 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:25:49,435 p=10638 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:25:49,436 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:25:49,437 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:25:49,439 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:25:49,441 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:25:49,442 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:25:49,443 p=10638 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:25:49,444 p=10638 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:25:49,449 p=10638 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:25:49,452 p=10638 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:25:49,452 p=10638 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:25:49,453 p=10638 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:25:49,453 p=10638 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:25:49,453 p=10638 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:25:49,456 p=10638 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:25:49,466 p=10638 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:25:49,471 p=10638 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:25:49,501 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:49,505 p=10638 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:25:49,533 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:49,539 p=10638 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:25:49,568 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:49,575 p=10638 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:25:49,602 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:49,608 p=10638 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:25:49,638 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:49,645 p=10638 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:25:49,673 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:49,680 p=10638 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:25:49,706 p=10647 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:25:49,706 p=10647 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:25:49,717 p=10647 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775 `" && echo ansible-tmp-1607811949.717331-10647-261841914005775="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775 `" ) && sleep 0'
2020-12-12 23:25:49,732 p=10647 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:25:49,920 p=10647 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:25:49,921 p=10647 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-106385og1oeed/tmpl0jl3ag9 TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:25:49,922 p=10647 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:25:49,932 p=10647 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:25:51,399 p=10647 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811949.717331-10647-261841914005775/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:25:51,418 p=10638 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:25:51,426 p=10638 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:25:51,459 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:51,464 p=10638 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:25:51,497 p=10638 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:25:51,503 p=10638 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:25:51,538 p=10638 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:25:51,544 p=10638 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:25:51,584 p=10638 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:25:51,589 p=10638 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:25:51,592 p=10638 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:25:51,593 p=10638 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:25:51,593 p=10638 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:26:33,241 p=10707 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:26:33,241 p=10707 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:26:33,242 p=10707 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:26:33,248 p=10707 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:26:33,249 p=10707 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:26:33,252 p=10707 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:26:33,365 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:26:33,366 p=10707 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:26:33,368 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:26:33,369 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:26:33,370 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:26:33,371 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:26:33,392 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:26:33,393 p=10707 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:26:33,394 p=10707 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:26:33,398 p=10707 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:26:33,402 p=10707 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:26:33,402 p=10707 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:26:33,402 p=10707 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:26:33,402 p=10707 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:26:33,402 p=10707 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:26:33,405 p=10707 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:26:33,414 p=10707 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:26:33,419 p=10707 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:26:33,451 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:33,454 p=10707 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:26:33,481 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:33,488 p=10707 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:26:33,515 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:33,522 p=10707 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:26:33,551 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:33,556 p=10707 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:26:33,587 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:33,591 p=10707 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:26:33,619 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:33,626 p=10707 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:26:33,653 p=10716 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:26:33,654 p=10716 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:26:33,663 p=10716 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281 `" && echo ansible-tmp-1607811993.663446-10716-255212052255281="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281 `" ) && sleep 0'
2020-12-12 23:26:33,678 p=10716 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:26:33,867 p=10716 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:26:33,868 p=10716 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-107072kzzql14/tmplhwyg12d TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:26:33,869 p=10716 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:26:33,879 p=10716 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:26:35,247 p=10716 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607811993.663446-10716-255212052255281/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:26:35,266 p=10707 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:26:35,273 p=10707 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:26:35,305 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:35,309 p=10707 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:26:35,344 p=10707 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:26:35,350 p=10707 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:26:35,387 p=10707 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:26:35,392 p=10707 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:26:35,428 p=10707 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:26:35,432 p=10707 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:26:35,435 p=10707 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:26:35,436 p=10707 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:26:35,436 p=10707 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:27:14,351 p=10771 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:27:14,351 p=10771 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:27:14,352 p=10771 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:27:14,358 p=10771 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:27:14,359 p=10771 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:27:14,363 p=10771 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:27:14,479 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:27:14,480 p=10771 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:27:14,481 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:27:14,482 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:27:14,483 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:27:14,484 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:27:14,487 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:27:14,488 p=10771 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:27:14,488 p=10771 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:27:14,493 p=10771 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:27:14,496 p=10771 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:27:14,496 p=10771 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:27:14,496 p=10771 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:27:14,497 p=10771 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:27:14,497 p=10771 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:27:14,500 p=10771 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:27:14,510 p=10771 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:27:14,515 p=10771 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:27:14,547 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:14,551 p=10771 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:27:14,578 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:14,586 p=10771 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:27:14,614 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:14,621 p=10771 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:27:14,648 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:14,655 p=10771 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:27:14,685 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:14,690 p=10771 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:27:14,718 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:14,724 p=10771 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:27:14,750 p=10780 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:27:14,751 p=10780 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:27:14,762 p=10780 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066 `" && echo ansible-tmp-1607812034.762044-10780-166714283486066="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066 `" ) && sleep 0'
2020-12-12 23:27:14,777 p=10780 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:27:14,965 p=10780 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:27:14,966 p=10780 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-10771h_r13nnm/tmpuokvise7 TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:27:14,967 p=10780 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:27:14,977 p=10780 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:27:16,363 p=10780 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812034.762044-10780-166714283486066/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:27:16,380 p=10771 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:27:16,387 p=10771 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:27:16,420 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:16,425 p=10771 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:27:16,459 p=10771 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:27:16,464 p=10771 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:27:16,500 p=10771 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:27:16,506 p=10771 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:27:16,543 p=10771 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:27:16,548 p=10771 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:27:16,552 p=10771 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:27:16,553 p=10771 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:27:16,554 p=10771 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:28:05,444 p=10831 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:28:05,444 p=10831 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:28:05,445 p=10831 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:28:05,452 p=10831 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:28:05,452 p=10831 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:28:05,452 p=10831 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:28:05,452 p=10831 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:28:05,452 p=10831 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:28:05,453 p=10831 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:28:05,453 p=10831 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:28:05,453 p=10831 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:28:05,453 p=10831 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:28:05,453 p=10831 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:28:05,453 p=10831 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:28:05,457 p=10831 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:28:05,576 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:28:05,576 p=10831 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:28:05,577 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:28:05,579 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:28:05,579 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:28:05,580 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:28:05,582 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:28:05,583 p=10831 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:28:05,583 p=10831 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:28:05,588 p=10831 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:28:05,591 p=10831 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:28:05,591 p=10831 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:28:05,591 p=10831 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:28:05,592 p=10831 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:28:05,592 p=10831 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:28:05,595 p=10831 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:28:05,603 p=10831 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:28:05,608 p=10831 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:28:05,639 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:05,644 p=10831 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:28:05,671 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:05,679 p=10831 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:28:05,707 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:05,714 p=10831 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:28:05,742 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:05,749 p=10831 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:28:05,778 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:05,782 p=10831 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:28:05,812 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:05,819 p=10831 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:28:05,847 p=10840 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:28:05,848 p=10840 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:28:05,858 p=10840 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037 `" && echo ansible-tmp-1607812085.85758-10840-175088103469037="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037 `" ) && sleep 0'
2020-12-12 23:28:05,873 p=10840 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:28:06,063 p=10840 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:28:06,064 p=10840 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-10831cltgk334/tmpiww25js_ TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:28:06,065 p=10840 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:28:06,076 p=10840 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:28:07,330 p=10840 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812085.85758-10840-175088103469037/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:28:07,347 p=10831 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:28:07,357 p=10831 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:28:07,390 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:07,396 p=10831 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:28:07,429 p=10831 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:28:07,434 p=10831 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:28:07,466 p=10831 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:28:07,470 p=10831 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:28:07,508 p=10831 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:28:07,512 p=10831 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:28:07,514 p=10831 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:28:07,515 p=10831 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:28:07,516 p=10831 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:31:27,441 p=10895 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:31:27,441 p=10895 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:31:27,442 p=10895 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:31:27,452 p=10895 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:31:27,452 p=10895 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:31:27,452 p=10895 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:31:27,453 p=10895 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:31:27,459 p=10895 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:31:27,642 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:31:27,643 p=10895 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:31:27,646 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:31:27,648 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:31:27,649 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:31:27,650 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:31:27,651 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:31:27,652 p=10895 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:31:27,653 p=10895 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:31:27,659 p=10895 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:31:27,663 p=10895 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:31:27,663 p=10895 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:31:27,663 p=10895 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:31:27,664 p=10895 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:31:27,664 p=10895 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:31:27,667 p=10895 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:31:27,679 p=10895 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:31:27,685 p=10895 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:31:27,720 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:27,726 p=10895 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:31:27,756 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:27,763 p=10895 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:31:27,796 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:27,803 p=10895 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:31:27,833 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:27,839 p=10895 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:31:27,867 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:27,871 p=10895 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:31:27,898 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:27,904 p=10895 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:31:27,934 p=10904 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:31:27,934 p=10904 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:31:27,948 p=10904 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298 `" && echo ansible-tmp-1607812287.947787-10904-172063868951298="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298 `" ) && sleep 0'
2020-12-12 23:31:27,963 p=10904 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:31:28,163 p=10904 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:31:28,164 p=10904 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-10895s5g8t2bc/tmpm3dh9kse TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:31:28,165 p=10904 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:31:28,176 p=10904 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:31:30,493 p=10904 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812287.947787-10904-172063868951298/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:31:30,509 p=10895 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:31:30,518 p=10895 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:31:30,552 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:30,556 p=10895 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:31:30,589 p=10895 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:31:30,596 p=10895 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:31:30,629 p=10895 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:31:30,633 p=10895 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:31:30,674 p=10895 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:31:30,677 p=10895 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:31:30,680 p=10895 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:31:30,682 p=10895 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:31:30,682 p=10895 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:36:10,430 p=10977 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:36:10,431 p=10977 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:36:10,432 p=10977 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:36:10,442 p=10977 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:36:10,443 p=10977 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:36:10,444 p=10977 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:36:10,448 p=10977 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:36:10,634 p=10977 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:36:10,635 p=10977 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:36:10,637 p=10977 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:36:10,638 p=10977 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:36:10,639 p=10977 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:36:10,640 p=10977 u=leonardopuga n=ansible | ERROR! conflicting action statements: hosts, azure_rm_publicipaddress_info

The error appears to be in '/Users/leonardopuga/Documents/GitRepos/ansible-tryouts/playlist-simple.yaml': line 82, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Get Facts from WinServer public IP
      ^ here

2020-12-12 23:38:36,672 p=11022 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:38:36,672 p=11022 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:38:36,673 p=11022 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:38:36,679 p=11022 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:38:36,680 p=11022 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:38:36,680 p=11022 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:38:36,684 p=11022 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:38:36,799 p=11022 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:38:36,800 p=11022 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:38:36,802 p=11022 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:38:36,803 p=11022 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:38:36,804 p=11022 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:38:36,806 p=11022 u=leonardopuga n=ansible | ERROR! conflicting action statements: hosts, azure_rm_publicipaddress_info

The error appears to be in '/Users/leonardopuga/Documents/GitRepos/ansible-tryouts/playlist-simple.yaml': line 82, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Get Facts from WinServer public IP
      ^ here

2020-12-12 23:39:02,916 p=11042 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:39:02,916 p=11042 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:39:02,917 p=11042 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:39:02,923 p=11042 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:02,923 p=11042 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:02,923 p=11042 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:02,923 p=11042 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:02,924 p=11042 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:39:02,927 p=11042 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:39:03,046 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:03,046 p=11042 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:39:03,048 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:03,049 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:03,050 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:03,051 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:39:03,052 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:03,053 p=11042 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:39:03,054 p=11042 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:39:03,059 p=11042 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:39:03,063 p=11042 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:39:03,063 p=11042 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:39:03,064 p=11042 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:39:03,064 p=11042 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:39:03,064 p=11042 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:39:03,067 p=11042 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:39:03,078 p=11042 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:39:03,083 p=11042 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:39:03,118 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:03,122 p=11042 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:39:03,149 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:03,157 p=11042 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:39:03,186 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:03,193 p=11042 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:39:03,221 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:03,227 p=11042 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:39:03,255 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:03,258 p=11042 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:39:03,285 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:03,291 p=11042 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:39:03,319 p=11051 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:39:03,319 p=11051 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:39:03,330 p=11051 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411 `" && echo ansible-tmp-1607812743.329679-11051-177950547126411="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411 `" ) && sleep 0'
2020-12-12 23:39:03,346 p=11051 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:39:03,548 p=11051 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:39:03,549 p=11051 u=leonardopuga n=ansible | <localhost> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-11042ipbjbtpi/tmpc9sapt18 TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:39:03,550 p=11051 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:39:03,561 p=11051 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:39:05,667 p=11051 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812743.329679-11051-177950547126411/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:39:05,684 p=11042 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:39:05,692 p=11042 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:39:05,727 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:05,732 p=11042 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:39:05,763 p=11042 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:05,769 p=11042 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:39:05,802 p=11042 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:39:05,806 p=11042 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:39:05,847 p=11042 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:39:05,852 p=11042 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:39:05,855 p=11042 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:39:05,856 p=11042 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:39:05,856 p=11042 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-12 23:39:23,077 p=11094 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-12 23:39:23,077 p=11094 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-12 23:39:23,078 p=11094 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-12 23:39:23,084 p=11094 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:23,084 p=11094 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:23,084 p=11094 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:23,084 p=11094 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:23,084 p=11094 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:23,085 p=11094 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:23,085 p=11094 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:23,085 p=11094 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:23,085 p=11094 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-12 23:39:23,085 p=11094 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-12 23:39:23,085 p=11094 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-12 23:39:23,088 p=11094 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-12 23:39:23,212 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:23,212 p=11094 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-12 23:39:23,214 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:23,215 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:23,216 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:23,217 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:39:23,218 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-12 23:39:23,219 p=11094 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-12 23:39:23,220 p=11094 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-12 23:39:23,224 p=11094 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-12 23:39:23,228 p=11094 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-12 23:39:23,228 p=11094 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-12 23:39:23,228 p=11094 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-12 23:39:23,228 p=11094 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple.yaml ******************************************************************************************************************************
2020-12-12 23:39:23,228 p=11094 u=leonardopuga n=ansible | 1 plays in ../playlist-simple.yaml
2020-12-12 23:39:23,232 p=11094 u=leonardopuga n=ansible | PLAY [Reaching remote digital ocean servers...] *************************************************************************************************************
2020-12-12 23:39:23,241 p=11094 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:39:23,246 p=11094 u=leonardopuga n=ansible | TASK [Pinging servers] **************************************************************************************************************************************
2020-12-12 23:39:23,277 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:23,280 p=11094 u=leonardopuga n=ansible | TASK [create linux user] ************************************************************************************************************************************
2020-12-12 23:39:23,308 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:23,315 p=11094 u=leonardopuga n=ansible | TASK [Restart Redhat server] ********************************************************************************************************************************
2020-12-12 23:39:23,343 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:23,350 p=11094 u=leonardopuga n=ansible | TASK [PowerOff Redhat VM] ***********************************************************************************************************************************
2020-12-12 23:39:23,379 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:23,385 p=11094 u=leonardopuga n=ansible | TASK [PowerOn Redhat VM] ************************************************************************************************************************************
2020-12-12 23:39:23,412 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:23,416 p=11094 u=leonardopuga n=ansible | TASK [Create VM with defaults] ******************************************************************************************************************************
2020-12-12 23:39:23,443 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:23,448 p=11094 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] *******************************************************************************************************************
2020-12-12 23:39:23,475 p=11103 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-12 23:39:23,475 p=11103 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-12 23:39:23,484 p=11103 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278 `" && echo ansible-tmp-1607812763.484382-11103-85517384019278="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278 `" ) && sleep 0'
2020-12-12 23:39:23,500 p=11103 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-12 23:39:23,689 p=11103 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-12 23:39:23,689 p=11103 u=leonardopuga n=ansible | <127.0.0.1> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-110947uyfb3kk/tmpha3fxo_0 TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-12 23:39:23,690 p=11103 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:39:23,701 p=11103 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-12 23:39:27,026 p=11103 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607812763.484382-11103-85517384019278/ > /dev/null 2>&1 && sleep 0'
2020-12-12 23:39:27,043 p=11094 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-12 23:39:27,052 p=11094 u=leonardopuga n=ansible | TASK [Restart WinServer] ************************************************************************************************************************************
2020-12-12 23:39:27,088 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:27,093 p=11094 u=leonardopuga n=ansible | TASK [create windows user] **********************************************************************************************************************************
2020-12-12 23:39:27,122 p=11094 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-12 23:39:27,128 p=11094 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:39:27,163 p=11094 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-12 23:39:27,168 p=11094 u=leonardopuga n=ansible | TASK [debug] ************************************************************************************************************************************************
2020-12-12 23:39:27,207 p=11094 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": [
        "var1 = value1",
        "var2 = value2",
        "envvar = ",
        "ennvar2 = not defined, so default..."
    ]
}
2020-12-12 23:39:27,211 p=11094 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:39:27,213 p=11094 u=leonardopuga n=ansible | META: ran handlers
2020-12-12 23:39:27,214 p=11094 u=leonardopuga n=ansible | PLAY RECAP **************************************************************************************************************************************************
2020-12-12 23:39:27,214 p=11094 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
2020-12-13 11:07:18,264 p=11504 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-13 11:07:18,265 p=11504 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-13 11:07:18,266 p=11504 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:07:18,275 p=11504 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:07:18,276 p=11504 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 11:07:18,280 p=11504 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 11:07:18,451 p=11504 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 11:07:18,452 p=11504 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-13 11:07:18,455 p=11504 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 11:07:18,456 p=11504 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 11:07:18,459 p=11504 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 11:07:18,461 p=11504 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 11:07:18,465 p=11504 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-13 11:07:18,468 p=11504 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 11:07:18,469 p=11504 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 11:07:18,469 p=11504 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 11:07:18,469 p=11504 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 11:07:18,469 p=11504 u=leonardopuga n=ansible | 1 plays in ../playlist-simple-win.yaml
2020-12-13 11:07:18,470 p=11504 u=leonardopuga n=ansible | ERROR! the field 'hosts' is required but was not set
2020-12-13 11:09:37,071 p=11539 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-13 11:09:37,071 p=11539 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-13 11:09:37,072 p=11539 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:09:37,078 p=11539 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:09:37,079 p=11539 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:09:37,079 p=11539 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:09:37,079 p=11539 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:09:37,079 p=11539 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 11:09:37,082 p=11539 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 11:09:37,187 p=11539 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 11:09:37,188 p=11539 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-13 11:09:37,190 p=11539 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 11:09:37,190 p=11539 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 11:09:37,192 p=11539 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 11:09:37,193 p=11539 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 11:09:37,197 p=11539 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-13 11:09:37,201 p=11539 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 11:09:37,201 p=11539 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 11:09:37,201 p=11539 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 11:09:37,201 p=11539 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 11:09:37,201 p=11539 u=leonardopuga n=ansible | 1 plays in ../playlist-simple-win.yaml
2020-12-13 11:09:37,203 p=11539 u=leonardopuga n=ansible | [WARNING]: Could not match supplied host pattern, ignoring: win

2020-12-13 11:09:37,204 p=11539 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 11:09:37,204 p=11539 u=leonardopuga n=ansible | skipping: no hosts matched
2020-12-13 11:09:37,204 p=11539 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 11:10:25,873 p=11551 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-13 11:10:25,873 p=11551 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-13 11:10:25,874 p=11551 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 11:10:25,880 p=11551 u=leonardopuga n=ansible | host_list declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 11:10:25,881 p=11551 u=leonardopuga n=ansible | script declined parsing /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 11:10:25,890 p=11551 u=leonardopuga n=ansible | Parsed /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 11:10:26,002 p=11551 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 11:10:26,003 p=11551 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-13 11:10:26,005 p=11551 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 11:10:26,005 p=11551 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 11:10:26,007 p=11551 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 11:10:26,008 p=11551 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 11:10:26,012 p=11551 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-13 11:10:26,015 p=11551 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 11:10:26,015 p=11551 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 11:10:26,015 p=11551 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 11:10:26,015 p=11551 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 11:10:26,016 p=11551 u=leonardopuga n=ansible | 1 plays in ../playlist-simple-win.yaml
2020-12-13 11:10:26,018 p=11551 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 11:10:26,030 p=11551 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 11:10:26,035 p=11551 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 11:10:26,067 p=11551 u=leonardopuga n=ansible | skipping: [13.69.24.127] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 11:10:26,071 p=11551 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] ********************************************************************************************************************
2020-12-13 11:10:26,097 p=11555 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-13 11:10:26,098 p=11555 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/Users/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-13 11:10:36,115 p=11555 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket "/Users/leonardopuga/.ansible/cp/e7ac1fc8ab" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out\r\n')
2020-12-13 11:10:36,120 p=11551 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.9p1, LibreSSL 2.7.3\r\ndebug1: Reading configuration data /Users/leonardopuga/.ssh/config\r\ndebug1: /Users/leonardopuga/.ssh/config line 1: Applying options for *\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 48: Applying options for *\r\ndebug2: resolve_canonicalize: hostname 13.69.24.127 is address\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/Users/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: ssh_connect_direct\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Operation timed out\r\nssh: connect to host 13.69.24.127 port 22: Operation timed out",
    "unreachable": true
}
2020-12-13 11:10:36,121 p=11551 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 11:10:36,122 p=11551 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=1    rescued=0    ignored=0   
2020-12-13 11:39:53,288 p=11774 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg
  configured module search path = ['/Users/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/local/lib/python3.9/site-packages/ansible
  executable location = /usr/local/bin/ansible-playbook
  python version = 3.9.0 (default, Dec  6 2020, 20:20:21) [Clang 11.0.0 (clang-1100.0.33.17)]
2020-12-13 11:39:53,288 p=11774 u=leonardopuga n=ansible | Using /Users/leonardopuga/Documents/GitRepos/ansible-tryouts/virtenvs/ansible.cfg as config file
2020-12-13 11:39:53,288 p=11774 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 11:39:53,294 p=11774 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:39:53,294 p=11774 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:39:53,294 p=11774 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 11:39:53,295 p=11774 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 11:39:53,299 p=11774 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 11:39:53,404 p=11774 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 11:39:53,404 p=11774 u=leonardopuga n=ansible | Loading collection ansible.windows from /Users/leonardopuga/.ansible/collections/ansible_collections/ansible/windows
2020-12-13 11:39:53,406 p=11774 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 11:39:53,407 p=11774 u=leonardopuga n=ansible | Loading collection azure.azcollection from /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 11:39:53,408 p=11774 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 11:39:53,409 p=11774 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 11:39:53,413 p=11774 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /usr/local/lib/python3.9/site-packages/ansible/plugins/callback/default.py
2020-12-13 11:39:53,417 p=11774 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 11:39:53,417 p=11774 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 11:39:53,417 p=11774 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 11:39:53,417 p=11774 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 11:39:53,417 p=11774 u=leonardopuga n=ansible | 1 plays in ../playlist-simple-win.yaml
2020-12-13 11:39:53,420 p=11774 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 11:39:53,429 p=11774 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 11:39:53,434 p=11774 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 11:39:53,463 p=11774 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 11:39:53,467 p=11774 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] ********************************************************************************************************************
2020-12-13 11:39:53,493 p=11778 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 11:39:53,494 p=11778 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 11:39:53,505 p=11778 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /Users/leonardopuga/.ansible/tmp `"&& mkdir "` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552 `" && echo ansible-tmp-1607855993.505007-11778-111320919731552="` echo /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552 `" ) && sleep 0'
2020-12-13 11:39:53,520 p=11778 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 11:39:53,718 p=11778 u=leonardopuga n=ansible | Using module file /Users/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 11:39:53,719 p=11778 u=leonardopuga n=ansible | <127.0.0.1> PUT /Users/leonardopuga/.ansible/tmp/ansible-local-11774ckh002iw/tmp42vie1sr TO /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 11:39:53,720 p=11778 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552/ /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 11:39:53,731 p=11778 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/usr/local/opt/python@3.9/bin/python3.9 /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 11:39:56,282 p=11778 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /Users/leonardopuga/.ansible/tmp/ansible-tmp-1607855993.505007-11778-111320919731552/ > /dev/null 2>&1 && sleep 0'
2020-12-13 11:39:56,297 p=11774 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-13 11:39:56,305 p=11774 u=leonardopuga n=ansible | TASK [Restart WinServer] *************************************************************************************************************************************
2020-12-13 11:39:56,335 p=11774 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 11:39:56,338 p=11774 u=leonardopuga n=ansible | TASK [create WinServer user] *********************************************************************************************************************************
2020-12-13 11:39:56,366 p=11774 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 11:39:56,370 p=11774 u=leonardopuga n=ansible | TASK [debug] *************************************************************************************************************************************************
2020-12-13 11:39:56,400 p=11774 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 11:39:56,404 p=11774 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 11:39:56,407 p=11774 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 11:39:56,408 p=11774 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 11:39:56,408 p=11774 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 13:33:21,205 p=22659 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 13:33:21,231 p=22659 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 13:33:21,241 p=22659 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 13:33:21,521 p=22659 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 13:33:21,555 p=22659 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 13:33:21,591 p=22659 u=leonardopuga n=ansible | skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
2020-12-13 13:33:21,596 p=22659 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 13:33:22,062 p=22659 u=leonardopuga n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'msrest'
2020-12-13 13:33:22,063 p=22659 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (msrestazure) on ubuntu-ansible-controller's Python /home/leonardopuga/ansible-controller/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2020-12-13 13:33:22,066 p=22659 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 13:33:22,066 p=22659 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 14:55:09,049 p=24055 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 14:55:09,074 p=24055 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 14:55:09,084 p=24055 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 14:55:09,368 p=24055 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 14:55:09,395 p=24055 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 14:55:09,428 p=24055 u=leonardopuga n=ansible | skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
2020-12-13 14:55:09,434 p=24055 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 14:55:09,972 p=24055 u=leonardopuga n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'msrest'
2020-12-13 14:55:09,973 p=24055 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (msrestazure) on ubuntu-ansible-controller's Python /home/leonardopuga/ansible-controller/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2020-12-13 14:55:09,975 p=24055 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 14:55:09,976 p=24055 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 14:58:31,748 p=24154 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 14:58:31,773 p=24154 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 14:58:31,783 p=24154 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 14:58:32,057 p=24154 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 14:58:32,083 p=24154 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 14:58:32,117 p=24154 u=leonardopuga n=ansible | skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
2020-12-13 14:58:32,121 p=24154 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 14:58:32,787 p=24154 u=leonardopuga n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'msrestazure'
2020-12-13 14:58:32,787 p=24154 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (ansible[azure] (azure >= 2.0.0)) on ubuntu-ansible-controller's Python /home/leonardopuga/ansible-controller/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2020-12-13 14:58:32,790 p=24154 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 14:58:32,790 p=24154 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 15:07:47,030 p=24384 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:07:47,055 p=24384 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:07:47,065 p=24384 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:07:47,268 p=24384 u=leonardopuga n=ansible | ERROR! unexpected parameter type in action: <class 'bool'>

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 25, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  tasks:
    - name: Pinging WinServer
      ^ here

2020-12-13 15:08:35,563 p=24423 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:08:35,588 p=24423 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:08:35,598 p=24423 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:08:35,800 p=24423 u=leonardopuga n=ansible | ERROR! unexpected parameter type in action: <class 'bool'>

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 25, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  tasks:
    - name: Pinging WinServer
      ^ here

2020-12-13 15:10:27,550 p=24458 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:10:27,575 p=24458 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:10:27,585 p=24458 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:10:27,865 p=24458 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:10:27,892 p=24458 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:10:27,925 p=24458 u=leonardopuga n=ansible | skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
2020-12-13 15:10:27,930 p=24458 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:10:28,668 p=24458 u=leonardopuga n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'azure.mgmt.monitor'
2020-12-13 15:10:28,668 p=24458 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (ansible[azure] (azure >= 2.0.0)) on ubuntu-ansible-controller's Python /home/leonardopuga/ansible-controller/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2020-12-13 15:10:28,671 p=24458 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:10:28,671 p=24458 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 15:12:51,226 p=24596 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:12:51,251 p=24596 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:12:51,261 p=24596 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:12:51,538 p=24596 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:12:51,565 p=24596 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:12:51,599 p=24596 u=leonardopuga n=ansible | skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
2020-12-13 15:12:51,604 p=24596 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:12:52,336 p=24596 u=leonardopuga n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: ModuleNotFoundError: No module named 'azure.mgmt.monitor'
2020-12-13 15:12:52,336 p=24596 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "msg": "Failed to import the required Python library (ansible[azure] (azure >= 2.0.0)) on ubuntu-ansible-controller's Python /home/leonardopuga/ansible-controller/bin/python. Please read the module documentation and install it in the appropriate location. If the required library is installed, but Ansible is using the wrong Python interpreter, please consult the documentation on ansible_python_interpreter"}
2020-12-13 15:12:52,339 p=24596 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:12:52,339 p=24596 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 15:14:23,281 p=24668 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:14:23,307 p=24668 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:14:23,317 p=24668 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:14:23,621 p=24668 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:14:23,635 p=24668 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:14:23,670 p=24668 u=leonardopuga n=ansible | skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}
2020-12-13 15:14:23,676 p=24668 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:14:24,849 p=24668 u=leonardopuga n=ansible | An exception occurred during task execution. To see the full traceback, use -vvv. The error was: FileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'
2020-12-13 15:14:24,850 p=24668 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"changed": false, "module_stderr": "Traceback (most recent call last):\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 48, in load\n    with codecs_open(self.filename, 'r', encoding=self._encoding) as f:\n  File \"/usr/lib/python3.6/codecs.py\", line 897, in open\n    file = builtins.open(filename, mode, buffering)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872463.7132108-24676-99301098546187/AnsiballZ_azure_rm_publicipaddress_info.py\", line 102, in <module>\n    _ansiballz_main()\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872463.7132108-24676-99301098546187/AnsiballZ_azure_rm_publicipaddress_info.py\", line 94, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872463.7132108-24676-99301098546187/AnsiballZ_azure_rm_publicipaddress_info.py\", line 40, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.azure.azcollection.plugins.modules.azure_rm_publicipaddress_info', init_globals=None, run_name='__main__', alter_sys=True)\n  File \"/usr/lib/python3.6/runpy.py\", line 205, in run_module\n    return _run_module_code(code, init_globals, run_name, mod_spec)\n  File \"/usr/lib/python3.6/runpy.py\", line 96, in _run_module_code\n    mod_name, mod_spec, pkg_name, script_name)\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 321, in <module>\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 317, in main\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 218, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 429, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1267, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1502, in _get_credentials\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_j4h6ny7f/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1416, in _get_azure_cli_credentials\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/common/credentials.py\", line 28, in get_cli_profile\n    ACCOUNT.load(os.path.join(azure_folder, 'azureProfile.json'))\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 61, in load\n    self.save()\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 65, in save\n    with codecs_open(self.filename, 'w', encoding=self._encoding) as f:\n  File \"/usr/lib/python3.6/codecs.py\", line 897, in open\n    file = builtins.open(filename, mode, buffering)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'\n", "module_stdout": "", "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error", "rc": 1}
2020-12-13 15:14:24,852 p=24668 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:14:24,853 p=24668 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 15:15:01,402 p=24715 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:15:01,402 p=24715 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:15:01,428 p=24715 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:15:01,428 p=24715 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:15:01,429 p=24715 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:15:01,430 p=24715 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:15:01,440 p=24715 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:15:01,707 p=24715 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:15:01,710 p=24715 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:15:01,711 p=24715 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:15:01,713 p=24715 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:15:01,744 p=24715 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:15:01,744 p=24715 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:15:01,744 p=24715 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:15:01,744 p=24715 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:15:01,744 p=24715 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:15:01,748 p=24715 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:15:01,757 p=24715 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:15:01,762 p=24715 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:15:01,796 p=24715 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:15:01,801 p=24715 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:15:01,835 p=24723 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:15:01,835 p=24723 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:15:01,841 p=24723 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735 `" && echo ansible-tmp-1607872501.841073-24723-154961930365735="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735 `" ) && sleep 0'
2020-12-13 15:15:01,849 p=24723 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:15:02,030 p=24723 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:15:02,031 p=24723 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-24715q8v18pij/tmpq51r0ur4 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:15:02,032 p=24723 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:15:02,039 p=24723 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:15:02,940 p=24723 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:15:02,951 p=24715 u=leonardopuga n=ansible | The full traceback is:
Traceback (most recent call last):
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py", line 48, in load
    with codecs_open(self.filename, 'r', encoding=self._encoding) as f:
  File "/usr/lib/python3.6/codecs.py", line 897, in open
    file = builtins.open(filename, mode, buffering)
FileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py", line 102, in <module>
    _ansiballz_main()
  File "/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py", line 94, in _ansiballz_main
    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)
  File "/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py", line 40, in invoke_module
    runpy.run_module(mod_name='ansible_collections.azure.azcollection.plugins.modules.azure_rm_publicipaddress_info', init_globals=None, run_name='__main__', alter_sys=True)
  File "/usr/lib/python3.6/runpy.py", line 205, in run_module
    return _run_module_code(code, init_globals, run_name, mod_spec)
  File "/usr/lib/python3.6/runpy.py", line 96, in _run_module_code
    mod_name, mod_spec, pkg_name, script_name)
  File "/usr/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py", line 321, in <module>
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py", line 317, in main
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py", line 218, in __init__
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 429, in __init__
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 1267, in __init__
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 1502, in _get_credentials
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 1416, in _get_azure_cli_credentials
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/common/credentials.py", line 28, in get_cli_profile
    ACCOUNT.load(os.path.join(azure_folder, 'azureProfile.json'))
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py", line 61, in load
    self.save()
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py", line 65, in save
    with codecs_open(self.filename, 'w', encoding=self._encoding) as f:
  File "/usr/lib/python3.6/codecs.py", line 897, in open
    file = builtins.open(filename, mode, buffering)
FileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'

2020-12-13 15:15:02,952 p=24715 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {
    "changed": false,
    "module_stderr": "Traceback (most recent call last):\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 48, in load\n    with codecs_open(self.filename, 'r', encoding=self._encoding) as f:\n  File \"/usr/lib/python3.6/codecs.py\", line 897, in open\n    file = builtins.open(filename, mode, buffering)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py\", line 102, in <module>\n    _ansiballz_main()\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py\", line 94, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872501.841073-24723-154961930365735/AnsiballZ_azure_rm_publicipaddress_info.py\", line 40, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.azure.azcollection.plugins.modules.azure_rm_publicipaddress_info', init_globals=None, run_name='__main__', alter_sys=True)\n  File \"/usr/lib/python3.6/runpy.py\", line 205, in run_module\n    return _run_module_code(code, init_globals, run_name, mod_spec)\n  File \"/usr/lib/python3.6/runpy.py\", line 96, in _run_module_code\n    mod_name, mod_spec, pkg_name, script_name)\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 321, in <module>\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 317, in main\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 218, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 429, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1267, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1502, in _get_credentials\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_p14vuzdo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1416, in _get_azure_cli_credentials\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/common/credentials.py\", line 28, in get_cli_profile\n    ACCOUNT.load(os.path.join(azure_folder, 'azureProfile.json'))\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 61, in load\n    self.save()\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 65, in save\n    with codecs_open(self.filename, 'w', encoding=self._encoding) as f:\n  File \"/usr/lib/python3.6/codecs.py\", line 897, in open\n    file = builtins.open(filename, mode, buffering)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'\n",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 1
}
2020-12-13 15:15:02,954 p=24715 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:15:02,955 p=24715 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 15:20:46,928 p=24890 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:20:46,929 p=24890 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:20:46,954 p=24890 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:20:46,954 p=24890 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:20:46,954 p=24890 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:20:46,955 p=24890 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:20:46,956 p=24890 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:20:46,966 p=24890 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:20:47,225 p=24890 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:20:47,228 p=24890 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:20:47,230 p=24890 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:20:47,231 p=24890 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:20:47,261 p=24890 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:20:47,262 p=24890 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:20:47,262 p=24890 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:20:47,262 p=24890 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:20:47,262 p=24890 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:20:47,265 p=24890 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:20:47,275 p=24890 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:20:47,280 p=24890 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:20:47,314 p=24890 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:20:47,319 p=24890 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:20:47,351 p=24902 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:20:47,352 p=24902 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:20:47,357 p=24902 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310 `" && echo ansible-tmp-1607872847.3569276-24902-260325163600310="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310 `" ) && sleep 0'
2020-12-13 15:20:47,365 p=24902 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:20:47,548 p=24902 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:20:47,549 p=24902 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-24890fmtf9f0w/tmp6r6nxcyp TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:20:47,550 p=24902 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:20:47,556 p=24902 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:20:48,403 p=24902 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:20:48,414 p=24890 u=leonardopuga n=ansible | The full traceback is:
Traceback (most recent call last):
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py", line 48, in load
    with codecs_open(self.filename, 'r', encoding=self._encoding) as f:
  File "/usr/lib/python3.6/codecs.py", line 897, in open
    file = builtins.open(filename, mode, buffering)
FileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py", line 102, in <module>
    _ansiballz_main()
  File "/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py", line 94, in _ansiballz_main
    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)
  File "/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py", line 40, in invoke_module
    runpy.run_module(mod_name='ansible_collections.azure.azcollection.plugins.modules.azure_rm_publicipaddress_info', init_globals=None, run_name='__main__', alter_sys=True)
  File "/usr/lib/python3.6/runpy.py", line 205, in run_module
    return _run_module_code(code, init_globals, run_name, mod_spec)
  File "/usr/lib/python3.6/runpy.py", line 96, in _run_module_code
    mod_name, mod_spec, pkg_name, script_name)
  File "/usr/lib/python3.6/runpy.py", line 85, in _run_code
    exec(code, run_globals)
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py", line 321, in <module>
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py", line 317, in main
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py", line 218, in __init__
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 429, in __init__
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 1267, in __init__
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 1502, in _get_credentials
  File "/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 1416, in _get_azure_cli_credentials
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/common/credentials.py", line 28, in get_cli_profile
    ACCOUNT.load(os.path.join(azure_folder, 'azureProfile.json'))
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py", line 61, in load
    self.save()
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py", line 65, in save
    with codecs_open(self.filename, 'w', encoding=self._encoding) as f:
  File "/usr/lib/python3.6/codecs.py", line 897, in open
    file = builtins.open(filename, mode, buffering)
FileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'

2020-12-13 15:20:48,415 p=24890 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {
    "changed": false,
    "module_stderr": "Traceback (most recent call last):\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 48, in load\n    with codecs_open(self.filename, 'r', encoding=self._encoding) as f:\n  File \"/usr/lib/python3.6/codecs.py\", line 897, in open\n    file = builtins.open(filename, mode, buffering)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py\", line 102, in <module>\n    _ansiballz_main()\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py\", line 94, in _ansiballz_main\n    invoke_module(zipped_mod, temp_path, ANSIBALLZ_PARAMS)\n  File \"/home/leonardopuga/.ansible/tmp/ansible-tmp-1607872847.3569276-24902-260325163600310/AnsiballZ_azure_rm_publicipaddress_info.py\", line 40, in invoke_module\n    runpy.run_module(mod_name='ansible_collections.azure.azcollection.plugins.modules.azure_rm_publicipaddress_info', init_globals=None, run_name='__main__', alter_sys=True)\n  File \"/usr/lib/python3.6/runpy.py\", line 205, in run_module\n    return _run_module_code(code, init_globals, run_name, mod_spec)\n  File \"/usr/lib/python3.6/runpy.py\", line 96, in _run_module_code\n    mod_name, mod_spec, pkg_name, script_name)\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\n    exec(code, run_globals)\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 321, in <module>\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 317, in main\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py\", line 218, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 429, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1267, in __init__\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1502, in _get_credentials\n  File \"/tmp/ansible_azure_rm_publicipaddress_info_payload_6ma9lzuo/ansible_azure_rm_publicipaddress_info_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py\", line 1416, in _get_azure_cli_credentials\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/common/credentials.py\", line 28, in get_cli_profile\n    ACCOUNT.load(os.path.join(azure_folder, 'azureProfile.json'))\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 61, in load\n    self.save()\n  File \"/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/cli/core/_session.py\", line 65, in save\n    with codecs_open(self.filename, 'w', encoding=self._encoding) as f:\n  File \"/usr/lib/python3.6/codecs.py\", line 897, in open\n    file = builtins.open(filename, mode, buffering)\nFileNotFoundError: [Errno 2] No such file or directory: '/home/leonardopuga/.azure/azureProfile.json'\n",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 1
}
2020-12-13 15:20:48,418 p=24890 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:20:48,418 p=24890 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 15:21:40,455 p=24944 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:21:40,455 p=24944 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:21:40,481 p=24944 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:21:40,481 p=24944 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:21:40,481 p=24944 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:21:40,482 p=24944 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:21:40,483 p=24944 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:21:40,493 p=24944 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:21:40,758 p=24944 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:21:40,761 p=24944 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:21:40,763 p=24944 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:21:40,765 p=24944 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:21:40,795 p=24944 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:21:40,795 p=24944 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:21:40,795 p=24944 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:21:40,796 p=24944 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:21:40,796 p=24944 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:21:40,799 p=24944 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:21:40,809 p=24944 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:21:40,814 p=24944 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:21:40,848 p=24944 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:21:40,853 p=24944 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:21:40,888 p=24952 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:21:40,888 p=24952 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:21:40,894 p=24952 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946 `" && echo ansible-tmp-1607872900.8937643-24952-126024138786946="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946 `" ) && sleep 0'
2020-12-13 15:21:40,902 p=24952 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:21:41,085 p=24952 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:21:41,086 p=24952 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-24944k9sycvq3/tmphifnl8nq TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:21:41,086 p=24952 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:21:41,093 p=24952 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:21:42,351 p=24952 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872900.8937643-24952-126024138786946/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:21:42,362 p=24944 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-13 15:21:42,370 p=24944 u=leonardopuga n=ansible | TASK [Restart WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:21:42,405 p=24944 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:21:42,411 p=24944 u=leonardopuga n=ansible | TASK [create WinServer user] ***************************************************************************************************************************************************************************************
2020-12-13 15:21:42,445 p=24944 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:21:42,451 p=24944 u=leonardopuga n=ansible | TASK [debug] *******************************************************************************************************************************************************************************************************
2020-12-13 15:21:42,489 p=24944 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 15:21:42,494 p=24944 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:21:42,497 p=24944 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:21:42,498 p=24944 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:21:42,498 p=24944 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 15:23:14,815 p=25012 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:23:14,816 p=25012 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:23:14,841 p=25012 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:23:14,842 p=25012 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:23:14,842 p=25012 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:23:14,842 p=25012 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:23:14,842 p=25012 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:23:14,842 p=25012 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:23:14,842 p=25012 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:23:14,843 p=25012 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:23:14,843 p=25012 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:23:14,843 p=25012 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:23:14,843 p=25012 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:23:14,853 p=25012 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:23:15,118 p=25012 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:23:15,121 p=25012 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:23:15,123 p=25012 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:23:15,124 p=25012 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:23:15,155 p=25012 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:23:15,155 p=25012 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:23:15,155 p=25012 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:23:15,155 p=25012 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:23:15,155 p=25012 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:23:15,159 p=25012 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:23:15,169 p=25012 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:23:15,173 p=25012 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:23:15,207 p=25012 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:23:15,212 p=25012 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:23:15,245 p=25020 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:23:15,245 p=25020 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:23:15,251 p=25020 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624 `" && echo ansible-tmp-1607872995.250909-25020-246062493946624="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624 `" ) && sleep 0'
2020-12-13 15:23:15,259 p=25020 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:23:15,443 p=25020 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:23:15,444 p=25020 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-250124svtk2ln/tmpjcie2b1j TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:23:15,445 p=25020 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:23:15,451 p=25020 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:23:16,682 p=25020 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607872995.250909-25020-246062493946624/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:23:16,693 p=25012 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-13 15:23:16,700 p=25012 u=leonardopuga n=ansible | TASK [Restart WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:23:16,735 p=25012 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:23:16,738 p=25012 u=leonardopuga n=ansible | TASK [create WinServer user] ***************************************************************************************************************************************************************************************
2020-12-13 15:23:16,771 p=25012 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:23:16,775 p=25012 u=leonardopuga n=ansible | TASK [debug] *******************************************************************************************************************************************************************************************************
2020-12-13 15:23:16,811 p=25012 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 15:23:16,815 p=25012 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:23:16,818 p=25012 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:23:16,819 p=25012 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:23:16,819 p=25012 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 15:27:05,119 p=25118 u=leonardopuga n=ansible | Starting galaxy collection install process
2020-12-13 15:27:05,119 p=25118 u=leonardopuga n=ansible | Process install dependency map
2020-12-13 15:27:05,121 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:05,223 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:05,323 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:05,424 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:05,525 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:05,625 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:05,726 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:05,827 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:05,927 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:06,028 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:06,129 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:06,229 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:06,330 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:06,431 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:06,531 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:06,632 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:06,733 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:06,834 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:06,934 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:07,035 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:07,136 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:07,236 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:07,337 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:07,438 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:07,539 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:07,640 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:07,740 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:07,841 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:07,942 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:08,042 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:08,143 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:08,244 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:08,344 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:08,445 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:08,546 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:08,646 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:08,747 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:08,848 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:08,949 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:09,049 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:09,150 p=25118 u=leonardopuga n=ansible | Starting collection install process
2020-12-13 15:27:09,154 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:09,254 p=25118 u=leonardopuga n=ansible | Installing 'community.azure:1.0.0' to '/home/leonardopuga/.ansible/collections/ansible_collections/community/azure'
2020-12-13 15:27:09,255 p=25118 u=leonardopuga n=ansible | Downloading https://galaxy.ansible.com/download/community-azure-1.0.0.tar.gz to /home/leonardopuga/.ansible/tmp/ansible-local-25118f1qkqmyp/tmpr_686bzj
2020-12-13 15:27:09,255 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:09,355 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:09,456 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:09,557 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:09,657 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:09,758 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:09,859 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:09,959 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:10,060 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:10,161 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:10,261 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:10,362 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:10,463 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:10,563 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:10,664 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:10,764 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:10,865 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:10,965 p=25118 u=leonardopuga n=ansible | community.azure (1.0.0) was installed successfully
2020-12-13 15:27:10,966 p=25118 u=leonardopuga n=ansible | Installing 'azure.azcollection:1.2.0' to '/home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection'
2020-12-13 15:27:10,966 p=25118 u=leonardopuga n=ansible | Downloading https://galaxy.ansible.com/download/azure-azcollection-1.2.0.tar.gz to /home/leonardopuga/.ansible/tmp/ansible-local-25118f1qkqmyp/tmpr_686bzj
2020-12-13 15:27:10,966 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:11,067 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:11,167 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:11,268 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:11,369 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:11,469 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:11,570 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:11,671 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:11,772 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:11,872 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:11,973 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:12,074 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:12,175 p=25118 u=leonardopuga n=ansible | -
2020-12-13 15:27:12,275 p=25118 u=leonardopuga n=ansible | \
2020-12-13 15:27:12,376 p=25118 u=leonardopuga n=ansible | |
2020-12-13 15:27:12,476 p=25118 u=leonardopuga n=ansible | /
2020-12-13 15:27:12,577 p=25118 u=leonardopuga n=ansible | azure.azcollection (1.2.0) was installed successfully
2020-12-13 15:37:52,370 p=25307 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:37:52,371 p=25307 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:37:52,396 p=25307 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:37:52,396 p=25307 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:37:52,397 p=25307 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:37:52,398 p=25307 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:37:52,408 p=25307 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:37:52,622 p=25307 u=leonardopuga n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  found unacceptable key (unhashable type: 'AnsibleMapping')

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 38, column 27, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

        name: vm-manual-winserver-1
        subscription_id: {{lookup('env', SUBSCRIPTION_ID)}}
                          ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes. Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2020-12-13 15:39:02,294 p=25333 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:39:02,295 p=25333 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:39:02,321 p=25333 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:39:02,322 p=25333 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:39:02,322 p=25333 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:39:02,322 p=25333 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:39:02,322 p=25333 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:39:02,332 p=25333 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:39:02,551 p=25333 u=leonardopuga n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  expected ',' or '}', but got '<scalar>'

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 38, column 60, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

        name: vm-manual-winserver-1
        subscription_id: {{ lookup('env', 'SUBSCRIPTION_ID') }}
                                                           ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes. Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2020-12-13 15:40:23,053 p=25355 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:40:23,053 p=25355 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:40:23,078 p=25355 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:40:23,079 p=25355 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:40:23,079 p=25355 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:40:23,079 p=25355 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:40:23,079 p=25355 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:40:23,079 p=25355 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:40:23,079 p=25355 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:40:23,080 p=25355 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:40:23,080 p=25355 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:40:23,080 p=25355 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:40:23,080 p=25355 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:40:23,090 p=25355 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:40:23,351 p=25355 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:40:23,354 p=25355 u=leonardopuga n=ansible | ERROR! conflicting action statements: azure_rm_publicipaddress_info, iregister

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 32, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Get Facts from WinServer public IP
      ^ here

2020-12-13 15:41:15,054 p=25371 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:41:15,054 p=25371 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:15,080 p=25371 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:15,081 p=25371 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:15,081 p=25371 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:15,081 p=25371 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:15,081 p=25371 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:41:15,091 p=25371 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:41:15,351 p=25371 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:41:15,355 p=25371 u=leonardopuga n=ansible | ERROR! conflicting action statements: azure_rm_publicipaddress_info, iregister

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 32, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Get Facts from WinServer public IP
      ^ here

2020-12-13 15:41:45,531 p=25383 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:41:45,531 p=25383 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:41:45,556 p=25383 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:45,557 p=25383 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:41:45,558 p=25383 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:41:45,558 p=25383 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:41:45,568 p=25383 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:41:45,830 p=25383 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:41:45,833 p=25383 u=leonardopuga n=ansible | ERROR! conflicting action statements: azure_rm_publicipaddress_info, iregister

The error appears to be in '/home/leonardopuga/ansible-tryouts/playlist-simple-win.yaml': line 32, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


    - name: Get Facts from WinServer public IP
      ^ here

2020-12-13 15:42:15,322 p=25399 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:42:15,322 p=25399 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:42:15,347 p=25399 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:42:15,347 p=25399 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:42:15,348 p=25399 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:42:15,349 p=25399 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:42:15,359 p=25399 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:42:15,618 p=25399 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:42:15,621 p=25399 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:42:15,623 p=25399 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:42:15,624 p=25399 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:42:15,654 p=25399 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:42:15,655 p=25399 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:42:15,655 p=25399 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:42:15,655 p=25399 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:42:15,655 p=25399 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:42:15,658 p=25399 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:42:15,668 p=25399 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:42:15,673 p=25399 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:42:15,707 p=25399 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:42:15,711 p=25399 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:42:15,744 p=25407 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:42:15,744 p=25407 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:42:15,750 p=25407 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310 `" && echo ansible-tmp-1607874135.7500594-25407-257294404337310="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310 `" ) && sleep 0'
2020-12-13 15:42:15,759 p=25407 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:42:15,939 p=25407 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:42:15,940 p=25407 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-25399ipv0ce7h/tmpvddal0d6 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:42:15,941 p=25407 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:42:15,947 p=25407 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:42:17,154 p=25407 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874135.7500594-25407-257294404337310/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:42:17,167 p=25399 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": null,
            "subscription_id": "dsdsdsd",
            "tags": null,
            "tenant": null
        }
    },
    "publicipaddresses": []
}
2020-12-13 15:42:17,174 p=25399 u=leonardopuga n=ansible | TASK [Restart WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:42:17,210 p=25399 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:42:17,215 p=25399 u=leonardopuga n=ansible | TASK [create WinServer user] ***************************************************************************************************************************************************************************************
2020-12-13 15:42:17,248 p=25399 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:42:17,252 p=25399 u=leonardopuga n=ansible | TASK [debug] *******************************************************************************************************************************************************************************************************
2020-12-13 15:42:17,289 p=25399 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 15:42:17,294 p=25399 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:42:17,299 p=25399 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:42:17,300 p=25399 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:42:17,301 p=25399 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 15:44:25,536 p=25477 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:44:25,536 p=25477 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:44:25,562 p=25477 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:44:25,563 p=25477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:44:25,564 p=25477 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:44:25,564 p=25477 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:44:25,574 p=25477 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:44:25,836 p=25477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:44:25,839 p=25477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:44:25,841 p=25477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:44:25,842 p=25477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:44:25,872 p=25477 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:44:25,872 p=25477 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:44:25,872 p=25477 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:44:25,873 p=25477 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:44:25,873 p=25477 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:44:25,876 p=25477 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:44:25,886 p=25477 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:44:25,890 p=25477 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:44:25,924 p=25477 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:44:25,929 p=25477 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:44:25,976 p=25485 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:44:25,976 p=25485 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:44:25,983 p=25485 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987 `" && echo ansible-tmp-1607874265.9825335-25485-272846143237987="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987 `" ) && sleep 0'
2020-12-13 15:44:25,991 p=25485 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:44:26,173 p=25485 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:44:26,174 p=25485 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-25477yompv1d1/tmprmkjkqa5 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:44:26,175 p=25485 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:44:26,181 p=25485 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:44:27,437 p=25485 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874265.9825335-25485-272846143237987/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:44:27,448 p=25477 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "subscription_id": "45d75553-0f88-4efd-b859-050ec7ab4fe7",
            "tags": null,
            "tenant": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER"
        }
    },
    "publicipaddresses": []
}
2020-12-13 15:44:27,455 p=25477 u=leonardopuga n=ansible | TASK [Restart WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:44:27,490 p=25477 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:44:27,495 p=25477 u=leonardopuga n=ansible | TASK [create WinServer user] ***************************************************************************************************************************************************************************************
2020-12-13 15:44:27,527 p=25477 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:44:27,532 p=25477 u=leonardopuga n=ansible | TASK [debug] *******************************************************************************************************************************************************************************************************
2020-12-13 15:44:27,567 p=25477 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 15:44:27,573 p=25477 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:44:27,576 p=25477 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:44:27,577 p=25477 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:44:27,577 p=25477 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 15:45:05,464 p=25532 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:45:05,464 p=25532 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:45:05,490 p=25532 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:45:05,490 p=25532 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:45:05,490 p=25532 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:45:05,490 p=25532 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:45:05,491 p=25532 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:45:05,501 p=25532 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:45:05,764 p=25532 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:45:05,767 p=25532 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_facts to community.azure.azure_rm_publicipaddress_facts
2020-12-13 15:45:05,811 p=25532 u=leonardopuga n=ansible | [DEPRECATION WARNING]: see plugin documentation for details. This feature will be removed from community.azure in a release after TBD. Deprecation warnings can be disabled by setting deprecation_warnings=False 
in ansible.cfg.
2020-12-13 15:45:05,812 p=25532 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:45:05,814 p=25532 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:45:05,844 p=25532 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:45:05,845 p=25532 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:45:05,845 p=25532 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:45:05,845 p=25532 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:45:05,845 p=25532 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:45:05,848 p=25532 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:45:05,857 p=25532 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:45:05,862 p=25532 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:45:05,898 p=25532 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:45:05,904 p=25532 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:45:05,951 p=25540 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:45:05,951 p=25540 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:45:05,957 p=25540 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494 `" && echo ansible-tmp-1607874305.9571788-25540-172762373645494="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494 `" ) && sleep 0'
2020-12-13 15:45:05,966 p=25540 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_facts to community.azure.azure_rm_publicipaddress_facts
2020-12-13 15:45:06,149 p=25540 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/community/azure/plugins/modules/azure_rm_publicipaddress_facts.py
2020-12-13 15:45:06,150 p=25540 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2553218d6xuon/tmpoeis6g12 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494/AnsiballZ_azure_rm_publicipaddress_facts.py
2020-12-13 15:45:06,151 p=25540 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494/AnsiballZ_azure_rm_publicipaddress_facts.py && sleep 0'
2020-12-13 15:45:06,157 p=25540 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494/AnsiballZ_azure_rm_publicipaddress_facts.py && sleep 0'
2020-12-13 15:45:07,425 p=25540 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874305.9571788-25540-172762373645494/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:45:07,436 p=25532 u=leonardopuga n=ansible | [DEPRECATION WARNING]: The 'azure_rm_publicipaddress_facts' module has been renamed to 'azure_rm_publicipaddress_info'. This feature will be removed in version 2.13. Deprecation warnings can be disabled by 
setting deprecation_warnings=False in ansible.cfg.
2020-12-13 15:45:07,437 p=25532 u=leonardopuga n=ansible | ok: [localhost] => {
    "ansible_facts": {
        "azure_publicipaddresses": []
    },
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "subscription_id": "45d75553-0f88-4efd-b859-050ec7ab4fe7",
            "tags": null,
            "tenant": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER"
        }
    },
    "publicipaddresses": []
}
2020-12-13 15:45:07,444 p=25532 u=leonardopuga n=ansible | TASK [Restart WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:45:07,479 p=25532 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:45:07,483 p=25532 u=leonardopuga n=ansible | TASK [create WinServer user] ***************************************************************************************************************************************************************************************
2020-12-13 15:45:07,517 p=25532 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:45:07,522 p=25532 u=leonardopuga n=ansible | TASK [debug] *******************************************************************************************************************************************************************************************************
2020-12-13 15:45:07,559 p=25532 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'ansible_facts': {'azure_publicipaddresses': []}, 'publicipaddresses': [], 'deprecations': [{'msg': \"The 'azure_rm_publicipaddress_facts' module has been renamed to 'azure_rm_publicipaddress_info'\", 'version': '2.13', 'collection_name': None}], 'failed': False}"
}
2020-12-13 15:45:07,564 p=25532 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:45:07,567 p=25532 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:45:07,568 p=25532 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:45:07,568 p=25532 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 15:46:37,973 p=25596 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 15:46:37,973 p=25596 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 15:46:37,998 p=25596 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:46:37,998 p=25596 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:46:37,999 p=25596 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 15:46:38,000 p=25596 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 15:46:38,000 p=25596 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 15:46:38,010 p=25596 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 15:46:38,270 p=25596 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 15:46:38,273 p=25596 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:46:38,275 p=25596 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 15:46:38,276 p=25596 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 15:46:38,306 p=25596 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 15:46:38,307 p=25596 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 15:46:38,307 p=25596 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 15:46:38,307 p=25596 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml *********************************************************************************************************************************************************************************
2020-12-13 15:46:38,307 p=25596 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 15:46:38,310 p=25596 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] **********************************************************************************************************************************************************************
2020-12-13 15:46:38,320 p=25596 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:46:38,325 p=25596 u=leonardopuga n=ansible | TASK [Pinging WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:46:38,359 p=25596 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:46:38,364 p=25596 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] **************************************************************************************************************************************************************************
2020-12-13 15:46:38,409 p=25606 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 15:46:38,410 p=25606 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 15:46:38,416 p=25606 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304 `" && echo ansible-tmp-1607874398.4156506-25606-214086904057304="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304 `" ) && sleep 0'
2020-12-13 15:46:38,424 p=25606 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 15:46:38,605 p=25606 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 15:46:38,606 p=25606 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-25596w6zqqwz6/tmpcuiy4n1w TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 15:46:38,607 p=25606 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:46:38,615 p=25606 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 15:46:39,807 p=25606 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607874398.4156506-25606-214086904057304/ > /dev/null 2>&1 && sleep 0'
2020-12-13 15:46:39,821 p=25596 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "subscription_id": "45d75553-0f88-4efd-b859-050ec7ab4fe7",
            "tags": null,
            "tenant": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER"
        }
    },
    "publicipaddresses": []
}
2020-12-13 15:46:39,830 p=25596 u=leonardopuga n=ansible | TASK [Restart WinServer] *******************************************************************************************************************************************************************************************
2020-12-13 15:46:39,867 p=25596 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:46:39,872 p=25596 u=leonardopuga n=ansible | TASK [create WinServer user] ***************************************************************************************************************************************************************************************
2020-12-13 15:46:39,905 p=25596 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 15:46:39,909 p=25596 u=leonardopuga n=ansible | TASK [debug] *******************************************************************************************************************************************************************************************************
2020-12-13 15:46:39,946 p=25596 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 15:46:39,951 p=25596 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:46:39,953 p=25596 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 15:46:39,954 p=25596 u=leonardopuga n=ansible | PLAY RECAP *********************************************************************************************************************************************************************************************************
2020-12-13 15:46:39,955 p=25596 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 16:28:14,714 p=26475 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:28:14,715 p=26475 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:28:14,740 p=26475 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:28:14,740 p=26475 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:28:14,741 p=26475 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:28:14,742 p=26475 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:28:14,752 p=26475 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:28:14,985 p=26475 u=leonardopuga n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed here

The error appears to be in '/home/leonardopuga/ansible-tryouts/roles/winsvr-users/tasks/main.yaml': line 2, column 13, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

- name: create WinServer user
    win_user:
            ^ here

2020-12-13 16:29:35,869 p=26501 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:29:35,869 p=26501 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:29:35,895 p=26501 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:29:35,895 p=26501 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:29:35,895 p=26501 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:29:35,895 p=26501 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:29:35,895 p=26501 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:29:35,895 p=26501 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:29:35,896 p=26501 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:29:35,896 p=26501 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:29:35,896 p=26501 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:29:35,896 p=26501 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:29:35,896 p=26501 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:29:35,906 p=26501 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:29:36,142 p=26501 u=leonardopuga n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  found unacceptable key (unhashable type: 'AnsibleMapping')

The error appears to be in '/home/leonardopuga/ansible-tryouts/roles/winsvr-users/tasks/main.yaml': line 6, column 10, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

    state: "{{item.state}}"
  loop: {{users}}
         ^ here
We could be wrong, but this one looks like it might be an issue with
missing quotes. Always quote template expression brackets when they
start a value. For instance:

    with_items:
      - {{ foo }}

Should be written as:

    with_items:
      - "{{ foo }}"

2020-12-13 16:30:15,442 p=26515 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:30:15,442 p=26515 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:30:15,468 p=26515 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:30:15,468 p=26515 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:30:15,468 p=26515 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:30:15,468 p=26515 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:30:15,468 p=26515 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:30:15,469 p=26515 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:30:15,469 p=26515 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:30:15,469 p=26515 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:30:15,469 p=26515 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:30:15,469 p=26515 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:30:15,469 p=26515 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:30:15,479 p=26515 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:30:15,746 p=26515 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:30:15,749 p=26515 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 16:30:15,751 p=26515 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:30:15,752 p=26515 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 16:30:15,784 p=26515 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 16:30:15,784 p=26515 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 16:30:15,784 p=26515 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 16:30:15,784 p=26515 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 16:30:15,784 p=26515 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 16:30:15,787 p=26515 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 16:30:15,796 p=26515 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:30:15,799 p=26515 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 16:30:15,839 p=26521 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 16:30:15,839 p=26521 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 16:30:15,845 p=26521 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275 `" && echo ansible-tmp-1607877015.8446982-26521-241997026106275="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275 `" ) && sleep 0'
2020-12-13 16:30:15,853 p=26521 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:30:15,857 p=26521 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 16:30:15,857 p=26521 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26515dh3cr_rh/tmphfe3i273 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/AnsiballZ_win_user.py
2020-12-13 16:30:15,858 p=26521 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26515dh3cr_rh/tmp7xfb94c0 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/args
2020-12-13 16:30:15,859 p=26521 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/args && sleep 0'
2020-12-13 16:30:15,864 p=26521 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/args && sleep 0'
2020-12-13 16:30:15,888 p=26521 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877015.8446982-26521-241997026106275/ > /dev/null 2>&1 && sleep 0'
2020-12-13 16:30:15,901 p=26515 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 16:30:15,904 p=26515 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 16:30:15,904 p=26515 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 16:31:41,047 p=26567 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:31:41,047 p=26567 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:31:41,073 p=26567 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:31:41,074 p=26567 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:31:41,074 p=26567 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:31:41,074 p=26567 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:31:41,074 p=26567 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:31:41,084 p=26567 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:31:41,350 p=26567 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:31:41,353 p=26567 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 16:31:41,354 p=26567 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:31:41,356 p=26567 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 16:31:41,387 p=26567 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 16:31:41,388 p=26567 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 16:31:41,388 p=26567 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 16:31:41,388 p=26567 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 16:31:41,388 p=26567 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 16:31:41,391 p=26567 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 16:31:41,400 p=26567 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:31:41,403 p=26567 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 16:31:41,444 p=26567 u=leonardopuga n=ansible | skipping: [localhost] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 16:31:41,452 p=26567 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 16:31:41,485 p=26567 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 16:31:41,490 p=26567 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] ********************************************************************************************************************
2020-12-13 16:31:41,537 p=26577 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 16:31:41,537 p=26577 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 16:31:41,543 p=26577 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326 `" && echo ansible-tmp-1607877101.5426145-26577-191759130624326="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326 `" ) && sleep 0'
2020-12-13 16:31:41,551 p=26577 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:31:41,735 p=26577 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 16:31:41,736 p=26577 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26567kutasbzp/tmplh39hjtr TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 16:31:41,737 p=26577 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 16:31:41,744 p=26577 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 16:31:43,078 p=26577 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877101.5426145-26577-191759130624326/ > /dev/null 2>&1 && sleep 0'
2020-12-13 16:31:43,089 p=26567 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "subscription_id": "45d75553-0f88-4efd-b859-050ec7ab4fe7",
            "tags": null,
            "tenant": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER"
        }
    },
    "publicipaddresses": []
}
2020-12-13 16:31:43,097 p=26567 u=leonardopuga n=ansible | TASK [Restart WinServer] *************************************************************************************************************************************
2020-12-13 16:31:43,131 p=26567 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 16:31:43,137 p=26567 u=leonardopuga n=ansible | TASK [debug] *************************************************************************************************************************************************
2020-12-13 16:31:43,174 p=26567 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 16:31:43,178 p=26567 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:31:43,181 p=26567 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:31:43,182 p=26567 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 16:31:43,182 p=26567 u=leonardopuga n=ansible | localhost                  : ok=2    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 16:33:36,013 p=26643 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:33:36,014 p=26643 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:33:36,039 p=26643 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:33:36,039 p=26643 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:33:36,040 p=26643 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:33:36,041 p=26643 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:33:36,051 p=26643 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:33:36,317 p=26643 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:33:36,321 p=26643 u=leonardopuga n=ansible | ERROR! conflicting action statements: debug, msg

The error appears to be in '/home/leonardopuga/ansible-tryouts/roles/winsvr-users/tasks/main.yaml': line 9, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- debug:
  ^ here

2020-12-13 16:34:21,988 p=26663 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:34:21,988 p=26663 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:34:22,014 p=26663 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:34:22,014 p=26663 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:34:22,014 p=26663 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:34:22,014 p=26663 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:34:22,014 p=26663 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:34:22,015 p=26663 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:34:22,015 p=26663 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:34:22,015 p=26663 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:34:22,015 p=26663 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:34:22,015 p=26663 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:34:22,015 p=26663 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:34:22,025 p=26663 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:34:22,291 p=26663 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:34:22,295 p=26663 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 16:34:22,296 p=26663 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:34:22,298 p=26663 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 16:34:22,329 p=26663 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 16:34:22,329 p=26663 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 16:34:22,329 p=26663 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 16:34:22,330 p=26663 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 16:34:22,330 p=26663 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 16:34:22,333 p=26663 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 16:34:22,342 p=26663 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:34:22,345 p=26663 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 16:34:22,386 p=26663 u=leonardopuga n=ansible | skipping: [localhost] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 16:34:22,391 p=26663 u=leonardopuga n=ansible | TASK [winsvr-users : debug] **********************************************************************************************************************************
2020-12-13 16:34:22,425 p=26663 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Should be executed: False"
}
2020-12-13 16:34:22,431 p=26663 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 16:34:22,464 p=26663 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 16:34:22,468 p=26663 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] ********************************************************************************************************************
2020-12-13 16:34:22,514 p=26675 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 16:34:22,514 p=26675 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 16:34:22,520 p=26675 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760 `" && echo ansible-tmp-1607877262.520045-26675-194615690821760="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760 `" ) && sleep 0'
2020-12-13 16:34:22,529 p=26675 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:34:22,711 p=26675 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 16:34:22,712 p=26675 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26663twd8lrxp/tmpj278uqai TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 16:34:22,713 p=26675 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 16:34:22,719 p=26675 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 16:34:23,949 p=26675 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877262.520045-26675-194615690821760/ > /dev/null 2>&1 && sleep 0'
2020-12-13 16:34:23,960 p=26663 u=leonardopuga n=ansible | ok: [localhost] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "subscription_id": "45d75553-0f88-4efd-b859-050ec7ab4fe7",
            "tags": null,
            "tenant": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER"
        }
    },
    "publicipaddresses": []
}
2020-12-13 16:34:23,968 p=26663 u=leonardopuga n=ansible | TASK [Restart WinServer] *************************************************************************************************************************************
2020-12-13 16:34:24,001 p=26663 u=leonardopuga n=ansible | skipping: [localhost] => {
    "changed": false,
    "skip_reason": "Conditional result was False"
}
2020-12-13 16:34:24,006 p=26663 u=leonardopuga n=ansible | TASK [debug] *************************************************************************************************************************************************
2020-12-13 16:34:24,043 p=26663 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 16:34:24,048 p=26663 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:34:24,051 p=26663 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:34:24,052 p=26663 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 16:34:24,052 p=26663 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
2020-12-13 16:35:40,729 p=26756 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:35:40,729 p=26756 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:35:40,755 p=26756 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:35:40,756 p=26756 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:35:40,756 p=26756 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:35:40,756 p=26756 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:35:40,756 p=26756 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:35:40,766 p=26756 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:35:41,032 p=26756 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:35:41,036 p=26756 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 16:35:41,037 p=26756 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:35:41,039 p=26756 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 16:35:41,070 p=26756 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 16:35:41,070 p=26756 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 16:35:41,071 p=26756 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 16:35:41,071 p=26756 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 16:35:41,071 p=26756 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 16:35:41,074 p=26756 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 16:35:41,083 p=26756 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:35:41,086 p=26756 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 16:35:41,128 p=26762 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 16:35:41,129 p=26762 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 16:35:41,135 p=26762 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684 `" && echo ansible-tmp-1607877341.1345124-26762-211605875953684="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684 `" ) && sleep 0'
2020-12-13 16:35:41,143 p=26762 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:35:41,146 p=26762 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 16:35:41,146 p=26762 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26756kqqvlymb/tmp6bcduc0j TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/AnsiballZ_win_user.py
2020-12-13 16:35:41,147 p=26762 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26756kqqvlymb/tmpj4d2g8ek TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/args
2020-12-13 16:35:41,148 p=26762 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/args && sleep 0'
2020-12-13 16:35:41,153 p=26762 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/args && sleep 0'
2020-12-13 16:35:41,178 p=26762 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607877341.1345124-26762-211605875953684/ > /dev/null 2>&1 && sleep 0'
2020-12-13 16:35:41,191 p=26756 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 16:35:41,194 p=26756 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 16:35:41,194 p=26756 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 16:46:55,302 p=26990 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 16:46:55,302 p=26990 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 16:46:55,330 p=26990 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:46:55,330 p=26990 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:46:55,330 p=26990 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 16:46:55,331 p=26990 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 16:46:55,342 p=26990 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 16:46:55,609 p=26990 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:46:55,612 p=26990 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 16:46:55,613 p=26990 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 16:46:55,615 p=26990 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 16:46:55,647 p=26990 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 16:46:55,647 p=26990 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 16:46:55,647 p=26990 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 16:46:55,647 p=26990 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 16:46:55,647 p=26990 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 16:46:55,650 p=26990 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 16:46:55,659 p=26990 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 16:46:55,662 p=26990 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 16:46:55,705 p=26996 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 16:46:55,706 p=26996 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 16:46:55,712 p=26996 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921 `" && echo ansible-tmp-1607878015.71155-26996-109065153933921="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921 `" ) && sleep 0'
2020-12-13 16:46:55,720 p=26996 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 16:46:55,723 p=26996 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 16:46:55,723 p=26996 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26990a3g8rwn1/tmplt3olkew TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/AnsiballZ_win_user.py
2020-12-13 16:46:55,724 p=26996 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-26990a3g8rwn1/tmpll73dftn TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/args
2020-12-13 16:46:55,725 p=26996 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/args && sleep 0'
2020-12-13 16:46:55,730 p=26996 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/args && sleep 0'
2020-12-13 16:46:55,755 p=26996 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607878015.71155-26996-109065153933921/ > /dev/null 2>&1 && sleep 0'
2020-12-13 16:46:55,768 p=26990 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 16:46:55,771 p=26990 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 16:46:55,771 p=26990 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 17:28:01,264 p=27907 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:28:01,264 p=27907 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:28:01,290 p=27907 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:28:01,290 p=27907 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:28:01,290 p=27907 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:28:01,290 p=27907 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:28:01,290 p=27907 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:28:01,291 p=27907 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:28:01,291 p=27907 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:28:01,291 p=27907 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:28:01,291 p=27907 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:28:01,291 p=27907 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:28:01,291 p=27907 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:28:01,301 p=27907 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:28:01,570 p=27907 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:28:01,576 p=27907 u=leonardopuga n=ansible | ERROR! We were unable to read either as JSON nor YAML, these are the errors we got from each:
JSON: Expecting value: line 1 column 1 (char 0)

Syntax Error while loading YAML.
  mapping values are not allowed here

The error appears to be in '/home/leonardopuga/ansible-tryouts/roles/azvm-rm/tasks/main.yaml': line 2, column 28, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

- name: Restart Azure VMs
    azure_rm_virtualmachine:
                           ^ here

2020-12-13 17:30:51,782 p=27987 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:30:51,782 p=27987 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:30:51,807 p=27987 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:30:51,807 p=27987 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:30:51,808 p=27987 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:30:51,809 p=27987 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:30:51,819 p=27987 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:30:52,084 p=27987 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:30:52,091 p=27987 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:30:52,093 p=27987 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:30:52,094 p=27987 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:30:52,124 p=27987 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:30:52,125 p=27987 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:30:52,125 p=27987 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:30:52,125 p=27987 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:30:52,125 p=27987 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:30:52,128 p=27987 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:30:52,138 p=27987 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:30:52,141 p=27987 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:30:52,184 p=27993 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 17:30:52,185 p=27993 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 17:30:52,191 p=27993 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875 `" && echo ansible-tmp-1607880652.1906667-27993-153499868150875="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875 `" ) && sleep 0'
2020-12-13 17:30:52,199 p=27993 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:30:52,202 p=27993 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 17:30:52,202 p=27993 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-27987a67sql2v/tmps1q_var2 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/AnsiballZ_win_user.py
2020-12-13 17:30:52,203 p=27993 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-27987a67sql2v/tmp68gk__tn TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/args
2020-12-13 17:30:52,204 p=27993 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/args && sleep 0'
2020-12-13 17:30:52,209 p=27993 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/args && sleep 0'
2020-12-13 17:30:52,234 p=27993 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880652.1906667-27993-153499868150875/ > /dev/null 2>&1 && sleep 0'
2020-12-13 17:30:52,247 p=27987 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 17:30:52,249 p=27987 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:30:52,250 p=27987 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 17:32:32,410 p=28180 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:32:32,410 p=28180 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:32,436 p=28180 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:32,437 p=28180 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:32,437 p=28180 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:32,437 p=28180 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:32,437 p=28180 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:32:32,447 p=28180 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:32:32,712 p=28180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:32:32,719 p=28180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:32:32,721 p=28180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:32:32,723 p=28180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:32:32,753 p=28180 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:32:32,753 p=28180 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:32:32,753 p=28180 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:32:32,753 p=28180 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:32:32,754 p=28180 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:32:32,756 p=28180 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:32:32,767 p=28180 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:32:32,770 p=28180 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:32:32,813 p=28186 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 17:32:32,813 p=28186 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 17:32:32,819 p=28186 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373 `" && echo ansible-tmp-1607880752.819306-28186-121901033078373="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373 `" ) && sleep 0'
2020-12-13 17:32:32,828 p=28186 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:32:32,831 p=28186 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 17:32:32,831 p=28186 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28180rn4d4s32/tmpv6eu739p TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/AnsiballZ_win_user.py
2020-12-13 17:32:32,832 p=28186 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28180rn4d4s32/tmpuoa5wipr TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/args
2020-12-13 17:32:32,833 p=28186 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/args && sleep 0'
2020-12-13 17:32:32,838 p=28186 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-dtubkkflxqvluebeamzqklbyxhzcyngq ; /home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/args'"'"' && sleep 0'
2020-12-13 17:32:32,878 p=28186 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880752.819306-28186-121901033078373/ > /dev/null 2>&1 && sleep 0'
2020-12-13 17:32:32,892 p=28180 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 17:32:32,894 p=28180 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:32:32,894 p=28180 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 17:32:41,939 p=28215 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:32:41,939 p=28215 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:32:49,323 p=28215 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:49,323 p=28215 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:49,323 p=28215 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:49,323 p=28215 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:49,323 p=28215 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:49,324 p=28215 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:49,324 p=28215 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:49,324 p=28215 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:49,324 p=28215 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:32:49,324 p=28215 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:32:49,324 p=28215 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:32:49,334 p=28215 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:32:49,599 p=28215 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:32:49,606 p=28215 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:32:49,608 p=28215 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:32:49,609 p=28215 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:32:49,639 p=28215 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:32:49,639 p=28215 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:32:49,640 p=28215 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:32:49,640 p=28215 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:32:49,640 p=28215 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:32:49,643 p=28215 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:32:49,653 p=28215 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:32:49,656 p=28215 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:32:49,699 p=28221 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 17:32:49,699 p=28221 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 17:32:49,705 p=28221 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810 `" && echo ansible-tmp-1607880769.7052255-28221-23864093676810="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810 `" ) && sleep 0'
2020-12-13 17:32:49,713 p=28221 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:32:49,716 p=28221 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 17:32:49,717 p=28221 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28215qufg8r4o/tmp5arl8zye TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/AnsiballZ_win_user.py
2020-12-13 17:32:49,717 p=28221 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28215qufg8r4o/tmp_h1nbe_7 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/args
2020-12-13 17:32:49,718 p=28221 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/args && sleep 0'
2020-12-13 17:32:49,723 p=28221 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'sudo -H -S  -p "[sudo via ansible, key=jtzajgtpusurtxgpohwjhhggbmbabtkm] password:" -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-jtzajgtpusurtxgpohwjhhggbmbabtkm ; /home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/args'"'"' && sleep 0'
2020-12-13 17:32:49,777 p=28221 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880769.7052255-28221-23864093676810/ > /dev/null 2>&1 && sleep 0'
2020-12-13 17:32:49,791 p=28215 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 17:32:49,794 p=28215 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:32:49,794 p=28215 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 17:33:17,695 p=28260 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:33:17,695 p=28260 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:33:22,064 p=28260 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 17:33:22,092 p=28260 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:33:22,093 p=28260 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:33:22,094 p=28260 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:33:22,094 p=28260 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:33:22,094 p=28260 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:33:22,104 p=28260 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:33:22,369 p=28260 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:33:22,370 p=28260 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 17:33:22,377 p=28260 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:33:22,377 p=28260 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 17:33:22,379 p=28260 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:33:22,380 p=28260 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:33:22,395 p=28260 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 17:33:22,410 p=28260 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:33:22,411 p=28260 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:33:22,411 p=28260 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:33:22,411 p=28260 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:33:22,412 p=28260 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:33:22,414 p=28260 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:33:22,425 p=28260 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:33:22,428 p=28260 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:33:22,471 p=28266 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 17:33:22,472 p=28266 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 17:33:22,478 p=28266 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490 `" && echo ansible-tmp-1607880802.4778664-28266-108041528118490="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490 `" ) && sleep 0'
2020-12-13 17:33:22,486 p=28266 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:33:22,489 p=28266 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 17:33:22,490 p=28266 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28260lk4f6o1d/tmpm6cd1gcd TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/AnsiballZ_win_user.py
2020-12-13 17:33:22,491 p=28266 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28260lk4f6o1d/tmpkencuyf4 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/args
2020-12-13 17:33:22,491 p=28266 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/args && sleep 0'
2020-12-13 17:33:22,497 p=28266 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'sudo -H -S  -p "[sudo via ansible, key=gpqzdsxsliqpbukhltntsuecondwjakm] password:" -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-gpqzdsxsliqpbukhltntsuecondwjakm ; /home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/args'"'"' && sleep 0'
2020-12-13 17:33:22,550 p=28266 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880802.4778664-28266-108041528118490/ > /dev/null 2>&1 && sleep 0'
2020-12-13 17:33:22,564 p=28260 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 17:33:22,566 p=28260 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:33:22,567 p=28260 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 17:36:32,689 p=28344 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:36:32,689 p=28344 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:36:36,739 p=28344 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 17:36:36,764 p=28344 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:36:36,765 p=28344 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:36:36,766 p=28344 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:36:36,766 p=28344 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:36:36,766 p=28344 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:36:36,776 p=28344 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:36:37,044 p=28344 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:36:37,045 p=28344 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 17:36:37,051 p=28344 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:36:37,052 p=28344 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 17:36:37,053 p=28344 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:36:37,055 p=28344 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:36:37,070 p=28344 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 17:36:37,085 p=28344 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:36:37,085 p=28344 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:36:37,085 p=28344 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:36:37,086 p=28344 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:36:37,086 p=28344 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:36:37,089 p=28344 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:36:37,100 p=28344 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:36:37,103 p=28344 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:36:37,146 p=28350 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 17:36:37,146 p=28350 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 17:36:37,152 p=28350 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774 `" && echo ansible-tmp-1607880997.152438-28350-10553255251774="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774 `" ) && sleep 0'
2020-12-13 17:36:37,161 p=28350 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:36:37,164 p=28350 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.py
2020-12-13 17:36:37,164 p=28350 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28344bmdxg26j/tmp2wocxvkq TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/AnsiballZ_win_user.py
2020-12-13 17:36:37,165 p=28350 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-28344bmdxg26j/tmpskzy92nq TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/args
2020-12-13 17:36:37,166 p=28350 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/args && sleep 0'
2020-12-13 17:36:37,171 p=28350 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'sudo -H -S  -p "[sudo via ansible, key=crpmukvzzbrityfxrcbucxaflpdaxetg] password:" -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-crpmukvzzbrityfxrcbucxaflpdaxetg ; /home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/AnsiballZ_win_user.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/args'"'"' && sleep 0'
2020-12-13 17:36:37,224 p=28350 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607880997.152438-28350-10553255251774/ > /dev/null 2>&1 && sleep 0'
2020-12-13 17:36:37,237 p=28344 u=leonardopuga n=ansible | failed: [localhost] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 17:36:37,240 p=28344 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:36:37,241 p=28344 u=leonardopuga n=ansible | localhost                  : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 17:40:51,286 p=28477 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:40:51,286 p=28477 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:40:54,488 p=28477 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 17:40:54,516 p=28477 u=leonardopuga n=ansible | host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:40:54,516 p=28477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:40:54,516 p=28477 u=leonardopuga n=ansible | script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:40:54,516 p=28477 u=leonardopuga n=ansible | auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:40:54,516 p=28477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:40:54,516 p=28477 u=leonardopuga n=ansible | yaml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:40:54,517 p=28477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:40:54,517 p=28477 u=leonardopuga n=ansible | ini declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:40:54,517 p=28477 u=leonardopuga n=ansible | Skipping due to inventory source not existing or not being readable by the current user
2020-12-13 17:40:54,517 p=28477 u=leonardopuga n=ansible | toml declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
2020-12-13 17:40:54,517 p=28477 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 17:40:54,527 p=28477 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 17:40:54,794 p=28477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:40:54,795 p=28477 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 17:40:54,801 p=28477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:40:54,802 p=28477 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 17:40:54,804 p=28477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:40:54,805 p=28477 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:40:54,820 p=28477 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 17:40:54,835 p=28477 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:40:54,835 p=28477 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:40:54,835 p=28477 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:40:54,836 p=28477 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:40:54,836 p=28477 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:40:54,838 p=28477 u=leonardopuga n=ansible | [WARNING]: Could not match supplied host pattern, ignoring: win

2020-12-13 17:40:54,839 p=28477 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:40:54,839 p=28477 u=leonardopuga n=ansible | skipping: no hosts matched
2020-12-13 17:40:54,839 p=28477 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:41:25,653 p=28498 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:41:25,653 p=28498 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:41:29,186 p=28498 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 17:41:29,216 p=28498 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 17:41:29,216 p=28498 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 17:41:29,227 p=28498 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 17:41:29,504 p=28498 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:41:29,505 p=28498 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 17:41:29,511 p=28498 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:41:29,511 p=28498 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 17:41:29,513 p=28498 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:41:29,515 p=28498 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:41:29,530 p=28498 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 17:41:29,546 p=28498 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:41:29,546 p=28498 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:41:29,546 p=28498 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:41:29,546 p=28498 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:41:29,547 p=28498 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:41:29,550 p=28498 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:41:29,560 p=28498 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:41:29,563 p=28498 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:41:29,608 p=28504 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-13 17:41:29,609 p=28504 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-13 17:41:39,619 p=28504 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /home/leonardopuga/.ssh/config\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket "/home/leonardopuga/.ansible/cp/e7ac1fc8ab" does not exist\r\ndebug2: resolving "13.69.24.127" port 22\r\ndebug2: ssh_connect_direct: needpriv 0\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Connection timed out\r\nssh: connect to host 13.69.24.127 port 22: Connection timed out\r\n')
2020-12-13 17:41:39,627 p=28498 u=leonardopuga n=ansible | failed: [13.69.24.127] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /home/leonardopuga/.ssh/config\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/home/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: resolving \"13.69.24.127\" port 22\r\ndebug2: ssh_connect_direct: needpriv 0\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Connection timed out\r\nssh: connect to host 13.69.24.127 port 22: Connection timed out",
    "unreachable": true
}
2020-12-13 17:41:39,629 p=28498 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "All items completed",
    "results": [
        {
            "ansible_loop_var": "item",
            "item": {
                "password": "AnsibleBastion01.",
                "state": "present",
                "username": "testuser"
            },
            "msg": "Failed to connect to the host via ssh: OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /home/leonardopuga/.ssh/config\r\ndebug1: Reading configuration data /etc/ssh/ssh_config\r\ndebug1: /etc/ssh/ssh_config line 19: Applying options for *\r\ndebug1: auto-mux: Trying existing master\r\ndebug1: Control socket \"/home/leonardopuga/.ansible/cp/e7ac1fc8ab\" does not exist\r\ndebug2: resolving \"13.69.24.127\" port 22\r\ndebug2: ssh_connect_direct: needpriv 0\r\ndebug1: Connecting to 13.69.24.127 [13.69.24.127] port 22.\r\ndebug2: fd 3 setting O_NONBLOCK\r\ndebug1: connect to address 13.69.24.127 port 22: Connection timed out\r\nssh: connect to host 13.69.24.127 port 22: Connection timed out",
            "unreachable": true
        }
    ]
}
2020-12-13 17:41:39,631 p=28498 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:41:39,632 p=28498 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 17:44:44,062 p=28570 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:44:44,062 p=28570 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:44:50,504 p=28570 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 17:44:50,531 p=28570 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 17:44:50,531 p=28570 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 17:44:50,536 p=28570 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 17:44:50,819 p=28570 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:44:50,820 p=28570 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 17:44:50,827 p=28570 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:44:50,827 p=28570 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 17:44:50,829 p=28570 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:44:50,830 p=28570 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:44:50,846 p=28570 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 17:44:50,862 p=28570 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:44:50,862 p=28570 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:44:50,862 p=28570 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:44:50,863 p=28570 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:44:50,863 p=28570 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:44:50,866 p=28570 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:44:50,876 p=28570 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:44:50,879 p=28570 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:44:50,922 p=28576 u=leonardopuga n=ansible | <13.69.24.127> ESTABLISH SSH CONNECTION FOR USER: None
2020-12-13 17:44:50,923 p=28576 u=leonardopuga n=ansible | <13.69.24.127> SSH: EXEC ssh -vvv -C -o ControlMaster=auto -o ControlPersist=60s -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/home/leonardopuga/.ansible/cp/e7ac1fc8ab 13.69.24.127 '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
2020-12-13 17:44:50,933 p=28576 u=leonardopuga n=ansible | <13.69.24.127> (255, b'', b'OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /home/leonardopuga/.ssh/config\r\n/home/leonardopuga/.ssh/config: line 3: Bad configuration option: identifyfile\r\n/home/leonardopuga/.ssh/config: terminating, 1 bad configuration options\r\n')
2020-12-13 17:44:50,940 p=28570 u=leonardopuga n=ansible | failed: [13.69.24.127] (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "ansible_loop_var": "item",
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "msg": "Failed to connect to the host via ssh: OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /home/leonardopuga/.ssh/config\r\n/home/leonardopuga/.ssh/config: line 3: Bad configuration option: identifyfile\r\n/home/leonardopuga/.ssh/config: terminating, 1 bad configuration options",
    "unreachable": true
}
2020-12-13 17:44:50,943 p=28570 u=leonardopuga n=ansible | fatal: [13.69.24.127]: UNREACHABLE! => {
    "changed": false,
    "msg": "All items completed",
    "results": [
        {
            "ansible_loop_var": "item",
            "item": {
                "password": "AnsibleBastion01.",
                "state": "present",
                "username": "testuser"
            },
            "msg": "Failed to connect to the host via ssh: OpenSSH_7.6p1 Ubuntu-4ubuntu0.3, OpenSSL 1.0.2n  7 Dec 2017\r\ndebug1: Reading configuration data /home/leonardopuga/.ssh/config\r\n/home/leonardopuga/.ssh/config: line 3: Bad configuration option: identifyfile\r\n/home/leonardopuga/.ssh/config: terminating, 1 bad configuration options",
            "unreachable": true
        }
    ]
}
2020-12-13 17:44:50,945 p=28570 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:44:50,945 p=28570 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 17:58:35,414 p=28803 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 17:58:35,414 p=28803 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 17:58:39,454 p=28803 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 17:58:39,486 p=28803 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 17:58:39,486 p=28803 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 17:58:39,492 p=28803 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 17:58:39,789 p=28803 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:58:39,790 p=28803 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 17:58:39,796 p=28803 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 17:58:39,797 p=28803 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 17:58:39,799 p=28803 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 17:58:39,800 p=28803 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 17:58:39,815 p=28803 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 17:58:39,832 p=28803 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 17:58:39,832 p=28803 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 17:58:39,832 p=28803 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 17:58:39,832 p=28803 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 17:58:39,833 p=28803 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 17:58:39,836 p=28803 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 17:58:39,846 p=28803 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 17:58:39,849 p=28803 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 17:58:39,892 p=28809 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 17:58:39,910 p=28809 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 17:58:39,911 p=28809 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 17:58:39,915 p=28803 u=leonardopuga n=ansible | fatal: [13.69.24.127]: FAILED! => {
    "msg": "The powershell shell family is incompatible with the sudo become plugin"
}
2020-12-13 17:58:39,917 p=28803 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 17:58:39,917 p=28803 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 18:01:03,433 p=28910 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 18:01:03,433 p=28910 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 18:01:03,434 p=28910 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 18:01:03,459 p=28910 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:01:03,459 p=28910 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:01:03,464 p=28910 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 18:01:03,744 p=28910 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:01:03,745 p=28910 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 18:01:03,751 p=28910 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 18:01:03,751 p=28910 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 18:01:03,753 p=28910 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:01:03,754 p=28910 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:01:03,770 p=28910 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 18:01:03,786 p=28910 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 18:01:03,786 p=28910 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 18:01:03,786 p=28910 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 18:01:03,786 p=28910 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 18:01:03,787 p=28910 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 18:01:03,789 p=28910 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:01:03,799 p=28910 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:01:03,802 p=28910 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:01:03,844 p=28922 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:01:03,858 p=28922 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 18:01:03,858 p=28922 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:01:03,862 p=28910 u=leonardopuga n=ansible | fatal: [13.69.24.127]: FAILED! => {
    "msg": "winrm or requests is not installed: No module named 'winrm'"
}
2020-12-13 18:01:03,864 p=28910 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:01:03,864 p=28910 u=leonardopuga n=ansible | 13.69.24.127               : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 18:03:37,323 p=28963 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 18:03:37,323 p=28963 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 18:03:37,324 p=28963 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 18:03:37,349 p=28963 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:03:37,349 p=28963 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:03:37,354 p=28963 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 18:03:37,632 p=28963 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:03:37,633 p=28963 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 18:03:37,639 p=28963 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 18:03:37,639 p=28963 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 18:03:37,641 p=28963 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:03:37,642 p=28963 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:03:37,657 p=28963 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 18:03:37,674 p=28963 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 18:03:37,674 p=28963 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 18:03:37,674 p=28963 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 18:03:37,674 p=28963 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 18:03:37,675 p=28963 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 18:03:37,677 p=28963 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:03:37,687 p=28963 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:03:37,690 p=28963 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:03:37,733 p=28969 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:03:37,747 p=28969 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 18:03:37,747 p=28969 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:03:37,752 p=28963 u=leonardopuga n=ansible | fatal: [10.1.0.6]: FAILED! => {
    "msg": "winrm or requests is not installed: No module named 'winrm'"
}
2020-12-13 18:03:37,754 p=28963 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:03:37,754 p=28963 u=leonardopuga n=ansible | 10.1.0.6                   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 18:05:18,071 p=28999 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 18:05:18,071 p=28999 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 18:05:18,072 p=28999 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 18:05:18,097 p=28999 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:05:18,097 p=28999 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:05:18,102 p=28999 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 18:05:18,382 p=28999 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:05:18,383 p=28999 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 18:05:18,389 p=28999 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 18:05:18,389 p=28999 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 18:05:18,391 p=28999 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:05:18,392 p=28999 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:05:18,408 p=28999 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 18:05:18,424 p=28999 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 18:05:18,424 p=28999 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 18:05:18,424 p=28999 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 18:05:18,425 p=28999 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 18:05:18,425 p=28999 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 18:05:18,428 p=28999 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:05:18,438 p=28999 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:05:18,441 p=28999 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:05:18,484 p=29005 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:05:18,498 p=29005 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 18:05:18,498 p=29005 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:05:18,502 p=28999 u=leonardopuga n=ansible | fatal: [10.1.0.6]: FAILED! => {
    "msg": "winrm or requests is not installed: No module named 'winrm'"
}
2020-12-13 18:05:18,505 p=28999 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:05:18,505 p=28999 u=leonardopuga n=ansible | 10.1.0.6                   : ok=0    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 18:10:41,608 p=29180 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 18:10:41,608 p=29180 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 18:10:41,609 p=29180 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 18:10:41,634 p=29180 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:10:41,634 p=29180 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:10:41,639 p=29180 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 18:10:41,974 p=29180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:10:41,975 p=29180 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 18:10:41,981 p=29180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 18:10:41,982 p=29180 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 18:10:41,984 p=29180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:10:41,985 p=29180 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:10:42,000 p=29180 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 18:10:42,016 p=29180 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 18:10:42,017 p=29180 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 18:10:42,017 p=29180 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 18:10:42,017 p=29180 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 18:10:42,017 p=29180 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 18:10:42,020 p=29180 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:10:42,030 p=29180 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:10:42,033 p=29180 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:10:42,076 p=29186 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:10:42,090 p=29186 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 18:10:42,090 p=29186 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:10:42,092 p=29186 u=leonardopuga n=ansible | <10.1.0.6> ESTABLISH WINRM CONNECTION FOR USER: leonardopuga on PORT 5986 TO 10.1.0.6
2020-12-13 18:10:42,180 p=29186 u=leonardopuga n=ansible | EXEC (via pipeline wrapper)
2020-12-13 18:10:49,811 p=29180 u=leonardopuga n=ansible | changed: [10.1.0.6] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "account_disabled": false,
    "account_locked": false,
    "ansible_loop_var": "item",
    "changed": true,
    "description": "",
    "fullname": "testuser",
    "groups": [],
    "invocation": {
        "module_args": {
            "account_disabled": null,
            "account_locked": null,
            "description": null,
            "fullname": null,
            "groups": null,
            "groups_action": "replace",
            "home_directory": null,
            "login_script": null,
            "name": "testuser",
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "password_expired": null,
            "password_never_expires": null,
            "profile": null,
            "state": "present",
            "update_password": "always",
            "user_cannot_change_password": null
        }
    },
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "name": "testuser",
    "password_expired": false,
    "password_never_expires": false,
    "path": "WinNT://WORKGROUP/vm-manual-winse/testuser",
    "sid": "S-1-5-21-1096014021-155499380-2523741064-1001",
    "state": "present",
    "user_cannot_change_password": false
}
2020-12-13 18:10:49,818 p=29180 u=leonardopuga n=ansible | TASK [winsvr-users : debug] **********************************************************************************************************************************
2020-12-13 18:10:49,853 p=29180 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Should be executed: True"
}
2020-12-13 18:10:49,876 p=29180 u=leonardopuga n=ansible | TASK [azvm-rm : Restart Azure VMs] ***************************************************************************************************************************
2020-12-13 18:10:49,907 p=29180 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-winserver-1'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "vm-manual-winserver-1",
        "rg": "rg-ansible"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 18:10:49,909 p=29180 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-redhat-1'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "vm-manual-redhat-1",
        "rg": "rg-ansible"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 18:10:49,917 p=29180 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 18:10:49,937 p=29192 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 18:10:49,937 p=29192 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 18:10:49,943 p=29192 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633 `" && echo ansible-tmp-1607883049.9426517-29192-87204499716633="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633 `" ) && sleep 0'
2020-12-13 18:10:49,951 p=29192 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:10:49,955 p=29192 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_ping.py
2020-12-13 18:10:49,955 p=29192 u=leonardopuga n=ansible | <localhost> PUT /home/leonardopuga/.ansible/tmp/ansible-local-29180taoce8hu/tmp8ccjwnv6 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/AnsiballZ_win_ping.py
2020-12-13 18:10:49,956 p=29192 u=leonardopuga n=ansible | <localhost> PUT /home/leonardopuga/.ansible/tmp/ansible-local-29180taoce8hu/tmpqnlzqn_t TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/args
2020-12-13 18:10:49,957 p=29192 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/AnsiballZ_win_ping.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/args && sleep 0'
2020-12-13 18:10:49,962 p=29192 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/AnsiballZ_win_ping.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/args && sleep 0'
2020-12-13 18:10:49,987 p=29192 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883049.9426517-29192-87204499716633/ > /dev/null 2>&1 && sleep 0'
2020-12-13 18:10:49,995 p=29180 u=leonardopuga n=ansible | fatal: [10.1.0.6]: FAILED! => {
    "changed": false,
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 18:10:49,997 p=29180 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:10:49,997 p=29180 u=leonardopuga n=ansible | 10.1.0.6                   : ok=2    changed=1    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 18:16:11,065 p=29307 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 18:16:11,065 p=29307 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 18:16:11,066 p=29307 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 18:16:11,091 p=29307 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:16:11,092 p=29307 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:16:11,096 p=29307 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 18:16:11,433 p=29307 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:16:11,434 p=29307 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 18:16:11,441 p=29307 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 18:16:11,441 p=29307 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 18:16:11,443 p=29307 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:16:11,444 p=29307 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:16:11,460 p=29307 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 18:16:11,476 p=29307 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 18:16:11,476 p=29307 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 18:16:11,476 p=29307 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 18:16:11,476 p=29307 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 18:16:11,477 p=29307 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 18:16:11,480 p=29307 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:16:11,489 p=29307 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:16:11,492 p=29307 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:16:11,535 p=29313 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:16:11,549 p=29313 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 18:16:11,549 p=29313 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:16:11,550 p=29313 u=leonardopuga n=ansible | <10.1.0.6> ESTABLISH WINRM CONNECTION FOR USER: leonardopuga on PORT 5986 TO 10.1.0.6
2020-12-13 18:16:11,608 p=29313 u=leonardopuga n=ansible | EXEC (via pipeline wrapper)
2020-12-13 18:16:15,472 p=29307 u=leonardopuga n=ansible | ok: [10.1.0.6] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "account_disabled": false,
    "account_locked": false,
    "ansible_loop_var": "item",
    "changed": false,
    "description": "",
    "fullname": "testuser",
    "groups": [],
    "invocation": {
        "module_args": {
            "account_disabled": null,
            "account_locked": null,
            "description": null,
            "fullname": null,
            "groups": null,
            "groups_action": "replace",
            "home_directory": null,
            "login_script": null,
            "name": "testuser",
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "password_expired": null,
            "password_never_expires": null,
            "profile": null,
            "state": "present",
            "update_password": "always",
            "user_cannot_change_password": null
        }
    },
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "name": "testuser",
    "password_expired": false,
    "password_never_expires": false,
    "path": "WinNT://WORKGROUP/vm-manual-winse/testuser",
    "sid": "S-1-5-21-1096014021-155499380-2523741064-1001",
    "state": "present",
    "user_cannot_change_password": false
}
2020-12-13 18:16:15,479 p=29307 u=leonardopuga n=ansible | TASK [winsvr-users : debug] **********************************************************************************************************************************
2020-12-13 18:16:15,515 p=29307 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Output from user creation: {'results': [{'changed': False, 'invocation': {'module_args': {'groups': None, 'profile': None, 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'account_locked': None, 'account_disabled': None, 'state': 'present', 'home_directory': None, 'user_cannot_change_password': None, 'groups_action': 'replace', 'password_expired': None, 'login_script': None, 'description': None, 'fullname': None, 'update_password': 'always', 'name': 'testuser', 'password_never_expires': None}}, 'state': 'present', 'name': 'testuser', 'fullname': 'testuser', 'path': 'WinNT://WORKGROUP/vm-manual-winse/testuser', 'description': '', 'password_expired': False, 'password_never_expires': False, 'user_cannot_change_password': False, 'account_disabled': False, 'account_locked': False, 'sid': 'S-1-5-21-1096014021-155499380-2523741064-1001', 'groups': [], 'failed': False, 'item': {'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 18:16:15,537 p=29307 u=leonardopuga n=ansible | TASK [azvm-rm : Restart Azure VMs] ***************************************************************************************************************************
2020-12-13 18:16:15,567 p=29307 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-winserver-1'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "vm-manual-winserver-1",
        "rg": "rg-ansible"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 18:16:15,570 p=29307 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-redhat-1'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "vm-manual-redhat-1",
        "rg": "rg-ansible"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 18:16:15,578 p=29307 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 18:16:15,598 p=29319 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 18:16:15,599 p=29319 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 18:16:15,604 p=29319 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575 `" && echo ansible-tmp-1607883375.603999-29319-76116242282575="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575 `" ) && sleep 0'
2020-12-13 18:16:15,612 p=29319 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:16:15,615 p=29319 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_ping.py
2020-12-13 18:16:15,616 p=29319 u=leonardopuga n=ansible | <localhost> PUT /home/leonardopuga/.ansible/tmp/ansible-local-29307n_2bdl01/tmpjpoftbv2 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/AnsiballZ_win_ping.py
2020-12-13 18:16:15,616 p=29319 u=leonardopuga n=ansible | <localhost> PUT /home/leonardopuga/.ansible/tmp/ansible-local-29307n_2bdl01/tmpy1j8fiae TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/args
2020-12-13 18:16:15,617 p=29319 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/AnsiballZ_win_ping.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/args && sleep 0'
2020-12-13 18:16:15,622 p=29319 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/AnsiballZ_win_ping.py /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/args && sleep 0'
2020-12-13 18:16:15,647 p=29319 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607883375.603999-29319-76116242282575/ > /dev/null 2>&1 && sleep 0'
2020-12-13 18:16:15,655 p=29307 u=leonardopuga n=ansible | fatal: [10.1.0.6]: FAILED! => {
    "changed": false,
    "module_stderr": "",
    "module_stdout": "",
    "msg": "MODULE FAILURE\nSee stdout/stderr for the exact error",
    "rc": 0
}
2020-12-13 18:16:15,658 p=29307 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:16:15,658 p=29307 u=leonardopuga n=ansible | 10.1.0.6                   : ok=2    changed=0    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0   
2020-12-13 18:35:36,251 p=29643 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 18:35:36,251 p=29643 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 18:35:36,252 p=29643 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 18:35:36,277 p=29643 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:35:36,277 p=29643 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/inventory.yaml as it did not pass its verify_file() method
2020-12-13 18:35:36,282 p=29643 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/inventory.yaml inventory source with ini plugin
2020-12-13 18:35:36,618 p=29643 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:35:36,619 p=29643 u=leonardopuga n=ansible | Loading collection ansible.windows from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows
2020-12-13 18:35:36,625 p=29643 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualmachine to azure.azcollection.azure_rm_virtualmachine
2020-12-13 18:35:36,626 p=29643 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 18:35:36,628 p=29643 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:35:36,629 p=29643 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:35:36,644 p=29643 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 18:35:36,660 p=29643 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 18:35:36,660 p=29643 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 18:35:36,661 p=29643 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 18:35:36,661 p=29643 u=leonardopuga n=ansible | PLAYBOOK: playlist-simple-win.yaml ***************************************************************************************************************************
2020-12-13 18:35:36,661 p=29643 u=leonardopuga n=ansible | 1 plays in playlist-simple-win.yaml
2020-12-13 18:35:36,664 p=29643 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:35:36,674 p=29643 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:35:36,677 p=29643 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:35:36,720 p=29649 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_user to ansible.windows.win_user
2020-12-13 18:35:36,734 p=29649 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_user.ps1
2020-12-13 18:35:36,735 p=29649 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:35:36,736 p=29649 u=leonardopuga n=ansible | <10.1.0.6> ESTABLISH WINRM CONNECTION FOR USER: leonardopuga on PORT 5986 TO 10.1.0.6
2020-12-13 18:35:36,800 p=29649 u=leonardopuga n=ansible | EXEC (via pipeline wrapper)
2020-12-13 18:35:40,746 p=29643 u=leonardopuga n=ansible | ok: [10.1.0.6] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}) => {
    "account_disabled": false,
    "account_locked": false,
    "ansible_loop_var": "item",
    "changed": false,
    "description": "",
    "fullname": "testuser",
    "groups": [],
    "invocation": {
        "module_args": {
            "account_disabled": null,
            "account_locked": null,
            "description": null,
            "fullname": null,
            "groups": null,
            "groups_action": "replace",
            "home_directory": null,
            "login_script": null,
            "name": "testuser",
            "password": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "password_expired": null,
            "password_never_expires": null,
            "profile": null,
            "state": "present",
            "update_password": "always",
            "user_cannot_change_password": null
        }
    },
    "item": {
        "password": "AnsibleBastion01.",
        "state": "present",
        "username": "testuser"
    },
    "name": "testuser",
    "password_expired": false,
    "password_never_expires": false,
    "path": "WinNT://WORKGROUP/vm-manual-winse/testuser",
    "sid": "S-1-5-21-1096014021-155499380-2523741064-1001",
    "state": "present",
    "user_cannot_change_password": false
}
2020-12-13 18:35:40,755 p=29643 u=leonardopuga n=ansible | TASK [winsvr-users : debug] **********************************************************************************************************************************
2020-12-13 18:35:40,789 p=29643 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Output from user creation: {'results': [{'changed': False, 'invocation': {'module_args': {'groups': None, 'profile': None, 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'account_locked': None, 'account_disabled': None, 'state': 'present', 'home_directory': None, 'user_cannot_change_password': None, 'groups_action': 'replace', 'password_expired': None, 'login_script': None, 'description': None, 'fullname': None, 'update_password': 'always', 'name': 'testuser', 'password_never_expires': None}}, 'state': 'present', 'name': 'testuser', 'fullname': 'testuser', 'path': 'WinNT://WORKGROUP/vm-manual-winse/testuser', 'description': '', 'password_expired': False, 'password_never_expires': False, 'user_cannot_change_password': False, 'account_disabled': False, 'account_locked': False, 'sid': 'S-1-5-21-1096014021-155499380-2523741064-1001', 'groups': [], 'failed': False, 'item': {'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 18:35:40,812 p=29643 u=leonardopuga n=ansible | TASK [azvm-rm : Restart Azure VMs] ***************************************************************************************************************************
2020-12-13 18:35:40,842 p=29643 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-winserver-1'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "vm-manual-winserver-1",
        "rg": "rg-ansible"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 18:35:40,845 p=29643 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-redhat-1'})  => {
    "ansible_loop_var": "item",
    "changed": false,
    "item": {
        "name": "vm-manual-redhat-1",
        "rg": "rg-ansible"
    },
    "skip_reason": "Conditional result was False"
}
2020-12-13 18:35:40,850 p=29643 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 18:35:40,870 p=29655 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.win_ping to ansible.windows.win_ping
2020-12-13 18:35:40,882 p=29655 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible_collections/ansible/windows/plugins/modules/win_ping.ps1
2020-12-13 18:35:40,882 p=29655 u=leonardopuga n=ansible | Pipelining is enabled.
2020-12-13 18:35:40,884 p=29655 u=leonardopuga n=ansible | <10.1.0.6> ESTABLISH WINRM CONNECTION FOR USER: leonardopuga on PORT 5986 TO 10.1.0.6
2020-12-13 18:35:40,932 p=29655 u=leonardopuga n=ansible | EXEC (via pipeline wrapper)
2020-12-13 18:35:42,174 p=29643 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "data": "pong"
        }
    },
    "ping": "pong"
}
2020-12-13 18:35:42,183 p=29643 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] ********************************************************************************************************************
2020-12-13 18:35:42,220 p=29657 u=leonardopuga n=ansible | <localhost> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 18:35:42,220 p=29657 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 18:35:42,226 p=29657 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024 `" && echo ansible-tmp-1607884542.225996-29657-151518302994024="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024 `" ) && sleep 0'
2020-12-13 18:35:42,235 p=29657 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_publicipaddress_info to azure.azcollection.azure_rm_publicipaddress_info
2020-12-13 18:35:42,443 p=29657 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_publicipaddress_info.py
2020-12-13 18:35:42,444 p=29657 u=leonardopuga n=ansible | <localhost> PUT /home/leonardopuga/.ansible/tmp/ansible-local-296436_bbpk7g/tmpjtjzesla TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024/AnsiballZ_azure_rm_publicipaddress_info.py
2020-12-13 18:35:42,445 p=29657 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 18:35:42,452 p=29657 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024/AnsiballZ_azure_rm_publicipaddress_info.py && sleep 0'
2020-12-13 18:35:43,843 p=29657 u=leonardopuga n=ansible | <localhost> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607884542.225996-29657-151518302994024/ > /dev/null 2>&1 && sleep 0'
2020-12-13 18:35:43,853 p=29643 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "cloud_environment": "AzureCloud",
            "name": "vm-manual-winserver-1",
            "password": null,
            "profile": null,
            "resource_group": "rg-ansible",
            "secret": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER",
            "subscription_id": "45d75553-0f88-4efd-b859-050ec7ab4fe7",
            "tags": null,
            "tenant": "VALUE_SPECIFIED_IN_NO_LOG_PARAMETER"
        }
    },
    "publicipaddresses": []
}
2020-12-13 18:35:43,859 p=29643 u=leonardopuga n=ansible | TASK [debug] *************************************************************************************************************************************************
2020-12-13 18:35:43,882 p=29643 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 18:35:43,887 p=29643 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:35:43,890 p=29643 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 18:35:43,891 p=29643 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:35:43,891 p=29643 u=leonardopuga n=ansible | 10.1.0.6                   : ok=5    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2020-12-13 18:39:53,430 p=29748 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:39:53,443 p=29748 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:39:57,426 p=29748 u=leonardopuga n=ansible | ok: [10.1.0.6] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'})
2020-12-13 18:39:57,435 p=29748 u=leonardopuga n=ansible | TASK [winsvr-users : debug] **********************************************************************************************************************************
2020-12-13 18:39:57,470 p=29748 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Output from user creation: {'results': [{'changed': False, 'invocation': {'module_args': {'groups': None, 'profile': None, 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'account_locked': None, 'account_disabled': None, 'state': 'present', 'home_directory': None, 'user_cannot_change_password': None, 'groups_action': 'replace', 'password_expired': None, 'login_script': None, 'description': None, 'fullname': None, 'update_password': 'always', 'name': 'testuser', 'password_never_expires': None}}, 'state': 'present', 'name': 'testuser', 'fullname': 'testuser', 'path': 'WinNT://WORKGROUP/vm-manual-winse/testuser', 'description': '', 'password_expired': False, 'password_never_expires': False, 'user_cannot_change_password': False, 'account_disabled': False, 'account_locked': False, 'sid': 'S-1-5-21-1096014021-155499380-2523741064-1001', 'groups': [], 'failed': False, 'item': {'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 18:39:57,492 p=29748 u=leonardopuga n=ansible | TASK [azvm-rm : Restart Azure VMs] ***************************************************************************************************************************
2020-12-13 18:39:57,522 p=29748 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-winserver-1'}) 
2020-12-13 18:39:57,524 p=29748 u=leonardopuga n=ansible | skipping: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-redhat-1'}) 
2020-12-13 18:39:57,529 p=29748 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 18:39:58,844 p=29748 u=leonardopuga n=ansible | ok: [10.1.0.6]
2020-12-13 18:39:58,852 p=29748 u=leonardopuga n=ansible | TASK [Get Facts from WinServer public IP] ********************************************************************************************************************
2020-12-13 18:40:00,380 p=29748 u=leonardopuga n=ansible | ok: [10.1.0.6]
2020-12-13 18:40:00,386 p=29748 u=leonardopuga n=ansible | TASK [debug] *************************************************************************************************************************************************
2020-12-13 18:40:00,408 p=29748 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Public IP facts from WinServer AZ VM: {'changed': False, 'publicipaddresses': [], 'failed': False}"
}
2020-12-13 18:40:00,417 p=29748 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:40:00,418 p=29748 u=leonardopuga n=ansible | 10.1.0.6                   : ok=5    changed=0    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   
2020-12-13 18:50:28,215 p=29998 u=leonardopuga n=ansible | PLAY [Playing with remote Azure WinServer...] ****************************************************************************************************************
2020-12-13 18:50:28,228 p=29998 u=leonardopuga n=ansible | TASK [winsvr-users : create WinServer user] ******************************************************************************************************************
2020-12-13 18:50:32,160 p=29998 u=leonardopuga n=ansible | ok: [10.1.0.6] => (item={'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'})
2020-12-13 18:50:32,168 p=29998 u=leonardopuga n=ansible | TASK [winsvr-users : debug] **********************************************************************************************************************************
2020-12-13 18:50:32,202 p=29998 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Output from user creation: {'results': [{'changed': False, 'invocation': {'module_args': {'groups': None, 'profile': None, 'password': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'account_locked': None, 'account_disabled': None, 'state': 'present', 'home_directory': None, 'user_cannot_change_password': None, 'groups_action': 'replace', 'password_expired': None, 'login_script': None, 'description': None, 'fullname': None, 'update_password': 'always', 'name': 'testuser', 'password_never_expires': None}}, 'state': 'present', 'name': 'testuser', 'fullname': 'testuser', 'path': 'WinNT://WORKGROUP/vm-manual-winse/testuser', 'description': '', 'password_expired': False, 'password_never_expires': False, 'user_cannot_change_password': False, 'account_disabled': False, 'account_locked': False, 'sid': 'S-1-5-21-1096014021-155499380-2523741064-1001', 'groups': [], 'failed': False, 'item': {'username': 'testuser', 'password': 'AnsibleBastion01.', 'state': 'present'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 18:50:32,225 p=29998 u=leonardopuga n=ansible | TASK [azvm-rm : Restart Azure VMs] ***************************************************************************************************************************
2020-12-13 18:51:04,587 p=29998 u=leonardopuga n=ansible | changed: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-winserver-1'})
2020-12-13 18:51:36,408 p=29998 u=leonardopuga n=ansible | changed: [10.1.0.6] => (item={'rg': 'rg-ansible', 'name': 'vm-manual-redhat-1'})
2020-12-13 18:51:36,414 p=29998 u=leonardopuga n=ansible | [WARNING]: Module did not set no_log for ssh_password_enabled

2020-12-13 18:51:36,421 p=29998 u=leonardopuga n=ansible | TASK [azvm-rm : debug] ***************************************************************************************************************************************
2020-12-13 18:51:36,444 p=29998 u=leonardopuga n=ansible | ok: [10.1.0.6] => {
    "msg": "Restart output: \n {'results': [{'changed': True, 'powerstate_change': 'restarted', 'ansible_facts': {'azure_vm': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-winserver-1', 'name': 'vm-manual-winserver-1', 'type': 'Microsoft.Compute/virtualMachines', 'location': 'westeurope', 'tags': {'env': 'dev', 'os': 'winserver', 'type': 'automation'}, 'properties': {'hardwareProfile': {'vmSize': 'Standard_B1ms'}, 'storageProfile': {'imageReference': {'publisher': 'MicrosoftWindowsServer', 'offer': 'WindowsServer', 'sku': '2012-R2-Datacenter', 'version': 'latest'}, 'osDisk': {'osType': 'Windows', 'name': 'vm-manual-winserver-1_OsDisk_1_250d6e3248734eb499379c66894c3102', 'caching': 'ReadWrite', 'createOption': 'FromImage', 'diskSizeGB': 127, 'managedDisk': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/disks/vm-manual-winserver-1_OsDisk_1_250d6e3248734eb499379c66894c3102', 'storageAccountType': 'StandardSSD_LRS'}}, 'dataDisks': []}, 'osProfile': {'computerName': 'vm-manual-winse', 'adminUsername': 'leonardopuga', 'windowsConfiguration': {'provisionVMAgent': True, 'enableAutomaticUpdates': True}, 'secrets': [], 'allowExtensionOperations': True, 'requireGuestProvisionSignal': True}, 'networkProfile': {'networkInterfaces': [{'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkInterfaces/vm-manual-winserver-703', 'name': 'vm-manual-winserver-703', 'properties': {'virtualMachine': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-winserver-1'}, 'networkSecurityGroup': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkSecurityGroups/vm-manual-winserver-1-nsg'}, 'ipConfigurations': [{'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkInterfaces/vm-manual-winserver-703/ipConfigurations/ipconfig1', 'properties': {'privateIPAddress': '10.1.0.6', 'privateIPAllocationMethod': 'Dynamic', 'privateIPAddressVersion': 'IPv4', 'subnet': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/virtualNetworks/virtual-network-test-1/subnets/default'}, 'primary': True, 'publicIPAddress': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/publicIPAddresses/vm-manual-winserver-1-ip', 'name': 'vm-manual-winserver-1-ip', 'properties': {'publicIPAllocationMethod': 'Dynamic', 'publicIPAddressVersion': 'IPv4', 'ipConfiguration': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkInterfaces/vm-manual-winserver-703/ipConfigurations/ipconfig1'}, 'ipTags': [], 'ipAddress': '13.69.24.127', 'idleTimeoutInMinutes': 4, 'resourceGuid': '58b57600-80fe-42b3-b097-da0bd1e5bc33', 'provisioningState': 'Succeeded'}}, 'provisioningState': 'Succeeded'}, 'name': 'ipconfig1', 'etag': 'W/\"2fe9cdfd-fcd6-4b7c-a77e-a58f887a6610\"'}], 'tapConfigurations': [], 'dnsSettings': {'dnsServers': [], 'appliedDnsServers': [], 'internalDomainNameSuffix': 'xwa4jwfus3feja4bm05fe2zqkc.ax.internal.cloudapp.net'}, 'macAddress': '00-0D-3A-AA-09-C7', 'primary': True, 'enableAcceleratedNetworking': False, 'enableIPForwarding': False, 'hostedWorkloads': [], 'resourceGuid': 'e3c77f04-66e9-4efb-902e-f9acf2a67087', 'provisioningState': 'Succeeded'}}]}, 'diagnosticsProfile': {'bootDiagnostics': {'enabled': True}}, 'provisioningState': 'Succeeded', 'instanceView': {'computerName': 'vm-manual-winse', 'osName': 'Windows Server 2012 R2 Datacenter', 'osVersion': 'Microsoft Windows NT 6.3.9600.0', 'hyperVGeneration': 'V1', 'vmAgent': {'vmAgentVersion': '2.7.41491.1005', 'extensionHandlers': [{'type': 'Microsoft.Azure.NetworkWatcher.NetworkWatcherAgentWindows', 'typeHandlerVersion': '1.4.1693.1', 'status': {'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Ready'}}], 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Ready', 'message': 'GuestAgent is running and processing the extensions.', 'time': '2020-12-13T18:50:59.000Z'}]}, 'disks': [{'name': 'vm-manual-winserver-1_OsDisk_1_250d6e3248734eb499379c66894c3102', 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'time': '2020-12-05T23:58:40.456747Z'}]}], 'extensions': [{'name': 'AzureNetworkWatcherExtension', 'type': 'Microsoft.Azure.NetworkWatcher.NetworkWatcherAgentWindows', 'typeHandlerVersion': '1.4.1693.1', 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'message': 'Default configuration is in effect.'}]}], 'bootDiagnostics': {}, 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'time': '2020-12-13T18:50:35.046065Z'}, {'code': 'PowerState/running', 'level': 'Info', 'displayStatus': 'VM running'}]}, 'vmId': '385abde9-2f8b-4520-8c94-34243ded8b43'}, 'resources': [{'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-winserver-1/extensions/AzureNetworkWatcherExtension', 'name': 'AzureNetworkWatcherExtension', 'type': 'Microsoft.Compute/virtualMachines/extensions', 'location': 'westeurope', 'properties': {'publisher': 'Microsoft.Azure.NetworkWatcher', 'type': 'NetworkWatcherAgentWindows', 'typeHandlerVersion': '1.4', 'autoUpgradeMinorVersion': True, 'settings': {}, 'provisioningState': 'Succeeded'}}], 'identity': {'principalId': 'e98e10a4-80bb-4a59-8e40-492cf47cd07a', 'tenantId': '405baca0-0b2e-4d29-89a4-bfa5acb1a117', 'type': 'SystemAssigned'}, 'powerstate': 'running'}}, 'invocation': {'module_args': {'resource_group': 'rg-ansible', 'name': 'vm-manual-winserver-1', 'restarted': True, 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'ssh_password_enabled': True, 'storage_container_name': 'vhds', 'os_type': 'Linux', 'public_ip_allocation_method': 'Static', 'remove_on_absent': ['all'], 'allocated': True, 'started': True, 'generalized': False, 'accept_terms': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'custom_data': None, 'location': None, 'short_hostname': None, 'vm_size': None, 'admin_username': None, 'admin_password': None, 'ssh_public_keys': None, 'image': None, 'availability_set': None, 'storage_account_name': None, 'storage_blob_name': None, 'os_disk_caching': None, 'os_disk_size_gb': None, 'managed_disk_type': None, 'os_disk_name': None, 'open_ports': None, 'network_interface_names': None, 'virtual_network_resource_group': None, 'virtual_network_name': None, 'subnet_name': None, 'data_disks': None, 'plan': None, 'zones': None, 'license_type': None, 'vm_identity': None, 'winrm': None, 'boot_diagnostics': None, 'ephemeral_os_disk': None}}, 'failed': False, 'item': {'rg': 'rg-ansible', 'name': 'vm-manual-winserver-1'}, 'ansible_loop_var': 'item'}, {'changed': True, 'powerstate_change': 'restarted', 'ansible_facts': {'azure_vm': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-redhat-1', 'name': 'vm-manual-redhat-1', 'type': 'Microsoft.Compute/virtualMachines', 'location': 'westeurope', 'tags': {'env': 'dev', 'type': 'automation', 'os': 'redhat'}, 'properties': {'hardwareProfile': {'vmSize': 'Standard_B1ms'}, 'storageProfile': {'imageReference': {'publisher': 'RedHat', 'offer': 'RHEL', 'sku': '8.2', 'version': 'latest'}, 'osDisk': {'osType': 'Linux', 'name': 'vm-manual-redhat-1_OsDisk_1_b56df3a93dd84e66993d55b7140d976c', 'caching': 'ReadWrite', 'createOption': 'FromImage', 'diskSizeGB': 64, 'managedDisk': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/disks/vm-manual-redhat-1_OsDisk_1_b56df3a93dd84e66993d55b7140d976c', 'storageAccountType': 'StandardSSD_LRS'}}, 'dataDisks': []}, 'osProfile': {'computerName': 'vm-manual-redhat-1', 'adminUsername': 'leonardopuga', 'linuxConfiguration': {'disablePasswordAuthentication': True, 'ssh': {'publicKeys': [{'path': '/home/leonardopuga/.ssh/authorized_keys', 'keyData': 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC0NUDnY/R7Q/Nfs6PwHJNoma59NNJtul7umyqLKJM2dLZ0kDqvv7mOIHJOUFzxrxz01mhxWOP9FoKkgiej82ao8Vkt9xlLmLc3K9Jx8yy5KBjkVfeoCXV7xY4quvPeLZK70I6UBEbG8OrY2d2SzEi2J+uYalCkpi41fbzuY+sLw9ZzUmzik0Q8baOh+zgpMUaPkKbg1lB+ZJmXxmyAskkeqpko7W4x16nAhYzf21t1Ahox02iUTaIL1FxgN/2ZTP9V0sihZ2V1WWotvBHOebqszn/NvRhTTOA3Nol7zqKPuIecy5CiI721VV0JkyYsBA93aqHugBLipFRHNOa5kokZ7+NeUufTnXSjQQG0kJ0jM/DqRHY5iE/ifnZYXT//mwBpDchmMFq5YpgBoTv98TfLqRgVrQHZdKBApHVfrS812oXhDNBcwznzCNKq2C4tx55ik0giefHpvfEhcAzFevvWSUWAeQGVCP7KWXkveR89MJg3UWVdw0IMrk3/oaIK0U8raU6QdQ5GFcYnLYC0QGok9PoGN0DPloH6JDZ81SsVVY273XRpyqsyInOUZzQlALh0aOZA/I2QSedPO52tLrYR5M0n6csPdQmXif2CXz8f9RACaPTC7oS87JbrcpualFx1iJlHohSssKXqC1tqd8ALBrULkkYsbapgDBO5YY6fHw== leonardopuga@FVFC427UL414.home'}]}, 'provisionVMAgent': True}, 'secrets': [], 'allowExtensionOperations': True, 'requireGuestProvisionSignal': True}, 'networkProfile': {'networkInterfaces': [{'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkInterfaces/vm-manual-redhat-1283', 'name': 'vm-manual-redhat-1283', 'properties': {'virtualMachine': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/RG-ANSIBLE/providers/Microsoft.Compute/virtualMachines/vm-manual-redhat-1'}, 'networkSecurityGroup': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkSecurityGroups/vm-manual-redhat-1-nsg'}, 'ipConfigurations': [{'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkInterfaces/vm-manual-redhat-1283/ipConfigurations/ipconfig1', 'properties': {'privateIPAddress': '10.1.0.4', 'privateIPAllocationMethod': 'Dynamic', 'privateIPAddressVersion': 'IPv4', 'subnet': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/virtualNetworks/virtual-network-test-1/subnets/default'}, 'primary': True, 'publicIPAddress': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/publicIPAddresses/vm-manual-redhat-1-ip', 'name': 'vm-manual-redhat-1-ip', 'properties': {'publicIPAllocationMethod': 'Dynamic', 'publicIPAddressVersion': 'IPv4', 'ipConfiguration': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Network/networkInterfaces/vm-manual-redhat-1283/ipConfigurations/ipconfig1'}, 'ipTags': [], 'ipAddress': '13.80.24.113', 'idleTimeoutInMinutes': 4, 'resourceGuid': 'a2511d7d-f053-4f78-9fa5-9795d2d3d75f', 'provisioningState': 'Succeeded'}}, 'provisioningState': 'Succeeded'}, 'name': 'ipconfig1', 'etag': 'W/\"350c454a-daea-4d68-8358-450df06da3d0\"'}], 'tapConfigurations': [], 'dnsSettings': {'dnsServers': [], 'appliedDnsServers': [], 'internalDomainNameSuffix': 'xwa4jwfus3feja4bm05fe2zqkc.ax.internal.cloudapp.net'}, 'macAddress': '00-0D-3A-BE-A6-76', 'primary': True, 'enableAcceleratedNetworking': False, 'enableIPForwarding': False, 'hostedWorkloads': [], 'resourceGuid': '4cef7684-6d85-46d1-8685-8c5f5ecb66f1', 'provisioningState': 'Succeeded'}}]}, 'diagnosticsProfile': {'bootDiagnostics': {'enabled': True}}, 'provisioningState': 'Succeeded', 'instanceView': {'computerName': 'vm-manual-redhat-1', 'osName': 'redhat', 'osVersion': '8.2', 'hyperVGeneration': 'V1', 'vmAgent': {'vmAgentVersion': '2.2.49.2', 'extensionHandlers': [{'type': 'Microsoft.Azure.Monitoring.DependencyAgent.DependencyAgentLinux', 'typeHandlerVersion': '9.10.6.11730', 'status': {'code': 'ProvisioningState/NotReady/1007', 'level': 'Info', 'displayStatus': 'Not Ready', 'message': '[ExtensionOperationError] Non-zero exit code: 51, /var/lib/waagent/Microsoft.Azure.Monitoring.DependencyAgent.DependencyAgentLinux-9.10.6.11730/bin/time-limit 870 scripts/install.sh 2>&1 >/dev/null\\n[stdout]\\n\\nUnsupported distribution: Red Hat Enterprise Linux release 8.2 (Ootpa)\\n\\nThe Dependency Agent was not installed.\\n\\nSee https://aka.ms/ServiceMapTroubleshooting (exit code = 0x00000033) for assistance.\\n\\n\\n[stderr]\\n'}}, {'type': 'Microsoft.OSTCExtensions.VMAccessForLinux', 'typeHandlerVersion': '1.5.10', 'status': {'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Ready', 'message': 'Plugin enabled'}}, {'type': 'Microsoft.EnterpriseCloud.Monitoring.OmsAgentForLinux', 'typeHandlerVersion': '1.13.33', 'status': {'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Ready', 'message': 'Plugin enabled'}}], 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Ready', 'message': 'Guest Agent is running', 'time': '2020-12-13T18:51:12.000Z'}]}, 'disks': [{'name': 'vm-manual-redhat-1_OsDisk_1_b56df3a93dd84e66993d55b7140d976c', 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'time': '2020-12-05T23:49:36.813984Z'}]}], 'extensions': [{'name': 'DependencyAgentLinux', 'type': 'Microsoft.Azure.Monitoring.DependencyAgent.DependencyAgentLinux', 'typeHandlerVersion': '9.10.6.11730', 'statuses': [{'code': 'ProvisioningState/transitioning', 'level': 'Info', 'displayStatus': 'Transitioning', 'message': '[ExtensionOperationError] Non-zero exit code: 51, /var/lib/waagent/Microsoft.Azure.Monitoring.DependencyAgent.DependencyAgentLinux-9.10.6.11730/bin/time-limit 870 scripts/install.sh 2>&1 >/dev/null\\n[stdout]\\n\\nUnsupported distribution: Red Hat Enterprise Linux release 8.2 (Ootpa)\\n\\nThe Dependency Agent was not installed.\\n\\nSee https://aka.ms/ServiceMapTroubleshooting (exit code = 0x00000033) for assistance.\\n\\n\\n[stderr]\\n'}]}, {'name': 'enablevmaccess', 'type': 'Microsoft.OSTCExtensions.VMAccessForLinux', 'typeHandlerVersion': '1.5.10', 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'message': 'Enable succeeded.'}]}, {'name': 'OMSAgentForLinux', 'type': 'Microsoft.EnterpriseCloud.Monitoring.OmsAgentForLinux', 'typeHandlerVersion': '1.13.33', 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'message': 'Enable succeeded'}]}], 'bootDiagnostics': {}, 'statuses': [{'code': 'ProvisioningState/succeeded', 'level': 'Info', 'displayStatus': 'Provisioning succeeded', 'time': '2020-12-13T18:51:06.124309Z'}, {'code': 'PowerState/running', 'level': 'Info', 'displayStatus': 'VM running'}]}, 'vmId': '329b54d5-60a2-4dd2-922b-928ce855a609'}, 'resources': [{'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-redhat-1/extensions/DependencyAgentLinux', 'name': 'DependencyAgentLinux', 'type': 'Microsoft.Compute/virtualMachines/extensions', 'location': 'westeurope', 'properties': {'publisher': 'Microsoft.Azure.Monitoring.DependencyAgent', 'type': 'DependencyAgentLinux', 'typeHandlerVersion': '9.10', 'autoUpgradeMinorVersion': True, 'provisioningState': 'Failed'}}, {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-redhat-1/extensions/enablevmaccess', 'name': 'enablevmaccess', 'type': 'Microsoft.Compute/virtualMachines/extensions', 'location': 'westeurope', 'properties': {'publisher': 'Microsoft.OSTCExtensions', 'type': 'VMAccessForLinux', 'typeHandlerVersion': '1.4', 'autoUpgradeMinorVersion': True, 'settings': {}, 'provisioningState': 'Succeeded'}}, {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-ansible/providers/Microsoft.Compute/virtualMachines/vm-manual-redhat-1/extensions/OMSAgentForLinux', 'name': 'OMSAgentForLinux', 'type': 'Microsoft.Compute/virtualMachines/extensions', 'location': 'westeurope', 'properties': {'publisher': 'Microsoft.EnterpriseCloud.Monitoring', 'type': 'OmsAgentForLinux', 'typeHandlerVersion': '1.7', 'autoUpgradeMinorVersion': True, 'settings': {'workspaceId': '09b5c44e-d2c0-43e0-be38-da471890346d', 'azureResourceId': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/RG-ANSIBLE/providers/Microsoft.Compute/virtualMachines/vm-manual-redhat-1', 'stopOnMultipleConnections': 'true'}, 'provisioningState': 'Succeeded'}}], 'identity': {'principalId': '4b39b3b9-9246-428d-b41e-edc3e2f72825', 'tenantId': '405baca0-0b2e-4d29-89a4-bfa5acb1a117', 'type': 'SystemAssigned'}, 'powerstate': 'running'}}, 'invocation': {'module_args': {'resource_group': 'rg-ansible', 'name': 'vm-manual-redhat-1', 'restarted': True, 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'ssh_password_enabled': True, 'storage_container_name': 'vhds', 'os_type': 'Linux', 'public_ip_allocation_method': 'Static', 'remove_on_absent': ['all'], 'allocated': True, 'started': True, 'generalized': False, 'accept_terms': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'custom_data': None, 'location': None, 'short_hostname': None, 'vm_size': None, 'admin_username': None, 'admin_password': None, 'ssh_public_keys': None, 'image': None, 'availability_set': None, 'storage_account_name': None, 'storage_blob_name': None, 'os_disk_caching': None, 'os_disk_size_gb': None, 'managed_disk_type': None, 'os_disk_name': None, 'open_ports': None, 'network_interface_names': None, 'virtual_network_resource_group': None, 'virtual_network_name': None, 'subnet_name': None, 'data_disks': None, 'plan': None, 'zones': None, 'license_type': None, 'vm_identity': None, 'winrm': None, 'boot_diagnostics': None, 'ephemeral_os_disk': None}}, 'failed': False, 'item': {'rg': 'rg-ansible', 'name': 'vm-manual-redhat-1'}, 'ansible_loop_var': 'item'}], 'changed': True, 'warnings': ['Module did not set no_log for ssh_password_enabled', 'Module did not set no_log for ssh_password_enabled'], 'msg': 'All items completed'}"
}
2020-12-13 18:51:36,451 p=29998 u=leonardopuga n=ansible | TASK [Pinging WinServer] *************************************************************************************************************************************
2020-12-13 18:52:06,497 p=29998 u=leonardopuga n=ansible | fatal: [10.1.0.6]: UNREACHABLE! => {"changed": false, "msg": "ssl: HTTPSConnectionPool(host='10.1.0.6', port=5986): Max retries exceeded with url: /wsman (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x7ff156dd3b70>, 'Connection to 10.1.0.6 timed out. (connect timeout=30)'))", "unreachable": true}
2020-12-13 18:52:06,500 p=29998 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 18:52:06,500 p=29998 u=leonardopuga n=ansible | 10.1.0.6                   : ok=4    changed=1    unreachable=1    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 19:22:30,410 p=30860 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 19:22:30,689 p=30860 u=leonardopuga n=ansible | ERROR! the role 'rg' was not found in /home/leonardopuga/ansible-tryouts/az-resources/roles:/home/leonardopuga/.ansible/roles:/usr/share/ansible/roles:/etc/ansible/roles:/home/leonardopuga/ansible-tryouts/az-resources

The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/playlist-az-resources.yaml': line 5, column 7, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:

  roles:
    - rg
      ^ here

2020-12-13 19:23:22,282 p=30909 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 19:23:22,640 p=30909 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 19:23:22,651 p=30909 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 19:23:23,948 p=30909 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 19:23:23,982 p=30909 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 19:23:25,560 p=30909 u=leonardopuga n=ansible | changed: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'})
2020-12-13 19:23:25,576 p=30909 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 19:23:25,600 p=30909 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": true,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": true,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": null
                }
            }
        ]
    }
}
2020-12-13 19:23:25,621 p=30909 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 19:23:25,622 p=30909 u=leonardopuga n=ansible | localhost                  : ok=3    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 22:53:18,433 p=2288 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 22:53:18,788 p=2288 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 22:53:18,799 p=2288 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 22:53:19,878 p=2288 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 22:53:19,911 p=2288 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 22:53:21,286 p=2288 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'})
2020-12-13 22:53:21,299 p=2288 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 22:53:21,324 p=2288 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 22:53:21,336 p=2288 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 22:53:21,357 p=2288 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'name' is undefined\n\nThe error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/roles/azrm-vnet/tasks/main.yaml': line 1, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Create virtual network\n  ^ here\n"}
2020-12-13 22:53:21,358 p=2288 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 22:53:21,358 p=2288 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 22:59:25,882 p=2481 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 22:59:26,240 p=2481 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 22:59:26,251 p=2481 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 22:59:27,328 p=2481 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 22:59:27,362 p=2481 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 22:59:28,799 p=2481 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'})
2020-12-13 22:59:28,813 p=2481 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 22:59:28,838 p=2481 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 22:59:28,850 p=2481 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 22:59:28,875 p=2481 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'name' is undefined\n\nThe error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/roles/azrm-vnet/tasks/main.yaml': line 1, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Create virtual network\n  ^ here\n"}
2020-12-13 22:59:28,877 p=2481 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 22:59:28,877 p=2481 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 23:00:19,344 p=2592 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:00:19,699 p=2592 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:00:19,709 p=2592 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:00:20,807 p=2592 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:00:20,840 p=2592 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:00:22,254 p=2592 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'})
2020-12-13 23:00:22,267 p=2592 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:00:22,291 p=2592 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:00:22,303 p=2592 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:00:22,328 p=2592 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'tem' is undefined\n\nThe error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/roles/azrm-vnet/tasks/main.yaml': line 1, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Create virtual network\n  ^ here\n"}
2020-12-13 23:00:22,331 p=2592 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:00:22,331 p=2592 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 23:00:53,135 p=2693 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:00:53,492 p=2693 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:00:53,502 p=2693 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:00:54,620 p=2693 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:00:54,653 p=2693 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:00:56,052 p=2693 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'})
2020-12-13 23:00:56,066 p=2693 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:00:56,090 p=2693 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:00:56,102 p=2693 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:00:57,405 p=2693 u=leonardopuga n=ansible | [WARNING]: The value "{'results': [{'changed': False, 'contains_resources': False, 'state': {'id':
'/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {},
'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto',
'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None,
'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None,
'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}],
'msg': 'All items completed', 'changed': False}" (type dict) was converted to ""{'results': [{'changed': False, 'contains_resources': False, 'state': {'id':
'/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {},
'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto',
'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None,
'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None,
'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}],
'msg': 'All items completed', 'changed': False}"" (type string). If this does not look like what you expect, quote the entire value to ensure it does not
change.

2020-12-13 23:00:57,405 p=2693 u=leonardopuga n=ansible | failed: [localhost] (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {"ansible_loop_var": "item", "changed": false, "item": {"add_pref": "10.0.0.0/16", "name": "vnet-auto-ansible"}, "msg": "Error retrieving resource group {'results': [{'changed': False, 'contains_resources': False, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {}, 'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False} - Parameter 'resource_group_name' must have length less than 90."}
2020-12-13 23:00:57,408 p=2693 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:00:57,408 p=2693 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 23:01:24,828 p=2826 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:01:24,828 p=2826 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:01:24,829 p=2826 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:01:24,854 p=2826 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:01:24,854 p=2826 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:01:24,857 p=2826 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml inventory source with ini plugin
2020-12-13 23:01:24,868 p=2826 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:01:25,183 p=2826 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:01:25,184 p=2826 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:01:25,190 p=2826 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:01:25,205 p=2826 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:01:25,221 p=2826 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:01:25,221 p=2826 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:01:25,221 p=2826 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:01:25,222 p=2826 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:01:25,222 p=2826 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:01:25,225 p=2826 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:01:25,235 p=2826 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:01:25,249 p=2833 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:01:25,250 p=2833 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:01:25,255 p=2833 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180 `" && echo ansible-tmp-1607900485.255229-2833-230875236762180="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180 `" ) && sleep 0'
2020-12-13 23:01:25,622 p=2833 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:01:25,623 p=2833 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2826tjbfyo8c/tmpnjwl40tg TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180/AnsiballZ_setup.py
2020-12-13 23:01:25,624 p=2833 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:01:25,630 p=2833 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:01:26,307 p=2833 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900485.255229-2833-230875236762180/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:01:26,335 p=2826 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:01:26,345 p=2826 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:01:26,368 p=2826 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:01:26,394 p=2889 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:01:26,394 p=2889 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:01:26,400 p=2889 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882 `" && echo ansible-tmp-1607900486.3996608-2889-17689056264882="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882 `" ) && sleep 0'
2020-12-13 23:01:26,408 p=2889 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:01:26,616 p=2889 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:01:26,617 p=2889 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2826tjbfyo8c/tmpvpzmv8sd TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:01:26,618 p=2889 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:01:26,624 p=2889 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:01:27,720 p=2889 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900486.3996608-2889-17689056264882/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:01:27,737 p=2826 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "contains_resources": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "rg-auto-ansible",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "rg-auto-ansible"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
        "location": "westeurope",
        "name": "rg-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {}
    }
}
2020-12-13 23:01:27,750 p=2826 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:01:27,773 p=2826 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:01:27,785 p=2826 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:01:27,811 p=2920 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:01:27,811 p=2920 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:01:27,816 p=2920 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440 `" && echo ansible-tmp-1607900487.8163385-2920-29852358110440="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440 `" ) && sleep 0'
2020-12-13 23:01:27,825 p=2920 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:01:28,037 p=2920 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:01:28,038 p=2920 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2826tjbfyo8c/tmp1t3nad73 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:01:28,038 p=2920 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:01:28,045 p=2920 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:01:29,009 p=2920 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900487.8163385-2920-29852358110440/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:01:29,024 p=2826 u=leonardopuga n=ansible | The full traceback is:
  File "/tmp/ansible_azure_rm_virtualnetwork_payload_amgqypli/ansible_azure_rm_virtualnetwork_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 560, in get_resource_group
    return self.rm_client.resource_groups.get(resource_group)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/mgmt/resource/resources/v2017_05_10/operations/_resource_groups_operations.py", line 268, in get
    'resourceGroupName': self._serialize.url("resource_group_name", resource_group_name, 'str', max_length=90, min_length=1, pattern=r'^[-\w\._\(\)]+$'),
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/msrest/serialization.py", line 591, in url
    data = self.validate(data, name, required=True, **kwargs)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/msrest/serialization.py", line 671, in validate
    raise ValidationError(key, name, value)

2020-12-13 23:01:29,025 p=2826 u=leonardopuga n=ansible | [WARNING]: The value "{'results': [{'changed': False, 'contains_resources': False, 'state': {'id':
'/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {},
'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto',
'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None,
'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None,
'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}],
'msg': 'All items completed', 'changed': False}" (type dict) was converted to ""{'results': [{'changed': False, 'contains_resources': False, 'state': {'id':
'/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {},
'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto',
'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None,
'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None,
'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}],
'msg': 'All items completed', 'changed': False}"" (type string). If this does not look like what you expect, quote the entire value to ensure it does not
change.

2020-12-13 23:01:29,027 p=2826 u=leonardopuga n=ansible | failed: [localhost] (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "{'results': [{'changed': False, 'contains_resources': False, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {}, 'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "msg": "Error retrieving resource group {'results': [{'changed': False, 'contains_resources': False, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible', 'name': 'rg-auto-ansible', 'location': 'westeurope', 'tags': {}, 'provisioning_state': 'Succeeded'}, 'invocation': {'module_args': {'name': 'rg-auto-ansible', 'location': 'westeurope', 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'force_delete_nonempty': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None}}, 'failed': False, 'item': {'name': 'rg-auto-ansible', 'location': 'westeurope'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False} - Parameter 'resource_group_name' must have length less than 90."
}
2020-12-13 23:01:29,031 p=2826 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:01:29,032 p=2826 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 23:03:05,297 p=2969 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:03:05,298 p=2969 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:03:05,298 p=2969 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:03:05,324 p=2969 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:03:05,324 p=2969 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:03:05,327 p=2969 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml inventory source with ini plugin
2020-12-13 23:03:05,338 p=2969 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:03:05,660 p=2969 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:03:05,661 p=2969 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:03:05,667 p=2969 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:03:05,683 p=2969 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:03:05,699 p=2969 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:03:05,699 p=2969 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:03:05,699 p=2969 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:03:05,700 p=2969 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:03:05,700 p=2969 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:03:05,703 p=2969 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:03:05,713 p=2969 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:03:05,727 p=2975 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:03:05,727 p=2975 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:03:05,733 p=2975 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163 `" && echo ansible-tmp-1607900585.7329733-2975-188393575987163="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163 `" ) && sleep 0'
2020-12-13 23:03:06,096 p=2975 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:03:06,097 p=2975 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2969u5wqt67m/tmpid9yhkwo TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163/AnsiballZ_setup.py
2020-12-13 23:03:06,098 p=2975 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:03:06,105 p=2975 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:03:06,754 p=2975 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900585.7329733-2975-188393575987163/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:03:06,782 p=2969 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:03:06,792 p=2969 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:03:06,816 p=2969 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:03:06,842 p=3031 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:03:06,842 p=3031 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:03:06,848 p=3031 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495 `" && echo ansible-tmp-1607900586.8480356-3031-181962789374495="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495 `" ) && sleep 0'
2020-12-13 23:03:06,856 p=3031 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:03:07,066 p=3031 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:03:07,067 p=3031 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2969u5wqt67m/tmprr80qmei TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:03:07,068 p=3031 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:03:07,074 p=3031 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:03:08,411 p=3031 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900586.8480356-3031-181962789374495/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:03:08,427 p=2969 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "contains_resources": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "rg-auto-ansible",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "rg-auto-ansible"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
        "location": "westeurope",
        "name": "rg-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {}
    }
}
2020-12-13 23:03:08,440 p=2969 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:03:08,463 p=2969 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:03:08,475 p=2969 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:03:08,499 p=3062 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:03:08,500 p=3062 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:03:08,505 p=3062 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479 `" && echo ansible-tmp-1607900588.5053024-3062-207849465214479="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479 `" ) && sleep 0'
2020-12-13 23:03:08,513 p=3062 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:03:08,728 p=3062 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:03:08,729 p=3062 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-2969u5wqt67m/tmpq9uzqrx0 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:03:08,730 p=3062 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:03:08,737 p=3062 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:03:13,724 p=3062 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607900588.5053024-3062-207849465214479/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:03:13,739 p=2969 u=leonardopuga n=ansible | changed: [localhost] => (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": true,
    "check_mode": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "rg-auto-ansible",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "state": {
        "address_prefixes": [
            "10.0.0.0/16"
        ],
        "etag": "W/\"d8bd99e7-0dde-4aed-b7c3-ff63a0b1e204\"",
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible",
        "location": "westeurope",
        "name": "vnet-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": null,
        "type": "Microsoft.Network/virtualNetworks"
    }
}
2020-12-13 23:03:13,751 p=2969 u=leonardopuga n=ansible | TASK [azrm-vnet : debug] *************************************************************************************************************************************
2020-12-13 23:03:13,772 p=2969 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "VNets creation output: {'results': [{'changed': True, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible', 'name': 'vnet-auto-ansible', 'location': 'westeurope', 'type': 'Microsoft.Network/virtualNetworks', 'tags': None, 'provisioning_state': 'Succeeded', 'etag': 'W/\"d8bd99e7-0dde-4aed-b7c3-ff63a0b1e204\"', 'address_prefixes': ['10.0.0.0/16']}, 'check_mode': False, 'invocation': {'module_args': {'resource_group': 'rg-auto-ansible', 'name': 'vnet-auto-ansible', 'address_prefixes': '10.0.0.0/16', 'address_prefixes_cidr': ['10.0.0.0/16'], 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'purge_address_prefixes': False, 'purge_dns_servers': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'location': None, 'dns_servers': None}}, 'failed': False, 'item': {'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}, 'ansible_loop_var': 'item'}], 'changed': True, 'msg': 'All items completed'}"
}
2020-12-13 23:03:13,783 p=2969 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:03:13,792 p=2969 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:03:13,793 p=2969 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:03:13,793 p=2969 u=leonardopuga n=ansible | localhost                  : ok=5    changed=1    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 23:10:14,334 p=3226 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:10:14,334 p=3226 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:10:14,335 p=3226 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:10:14,360 p=3226 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:10:14,360 p=3226 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:10:14,365 p=3226 u=leonardopuga n=ansible | Parsed /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml inventory source with ini plugin
2020-12-13 23:10:14,375 p=3226 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:10:14,692 p=3226 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:10:14,693 p=3226 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:10:14,699 p=3226 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:10:14,714 p=3226 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:10:14,730 p=3226 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:10:14,731 p=3226 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:10:14,731 p=3226 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:10:14,731 p=3226 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:10:14,732 p=3226 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:10:14,734 p=3226 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:10:14,744 p=3226 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:10:14,759 p=3232 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:10:14,759 p=3232 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:10:14,765 p=3232 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359 `" && echo ansible-tmp-1607901014.7648702-3232-16070505470359="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359 `" ) && sleep 0'
2020-12-13 23:10:15,134 p=3232 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:10:15,135 p=3232 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3226xvrcbav_/tmpajlsidxu TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359/AnsiballZ_setup.py
2020-12-13 23:10:15,136 p=3232 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:10:15,142 p=3232 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:10:15,820 p=3232 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901014.7648702-3232-16070505470359/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:10:15,848 p=3226 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:10:15,858 p=3226 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:10:15,882 p=3226 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:10:15,908 p=3288 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:10:15,908 p=3288 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:10:15,914 p=3288 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907 `" && echo ansible-tmp-1607901015.9137268-3288-82148558281907="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907 `" ) && sleep 0'
2020-12-13 23:10:15,924 p=3288 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:10:16,153 p=3288 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:10:16,154 p=3288 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3226xvrcbav_/tmp9rz3q1za TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:10:16,155 p=3288 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:10:16,161 p=3288 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:10:17,465 p=3288 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901015.9137268-3288-82148558281907/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:10:17,480 p=3226 u=leonardopuga n=ansible | changed: [localhost] => (item={'name': 'vars.rg', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": true,
    "contains_resources": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "vars.rg",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "vars.rg"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg",
        "location": "westeurope",
        "name": "vars.rg",
        "provisioning_state": "Succeeded",
        "tags": null
    }
}
2020-12-13 23:10:17,493 p=3226 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:10:17,517 p=3226 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg_output": {
        "changed": true,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": true,
                "contains_resources": false,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "vars.rg",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "vars.rg"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg",
                    "location": "westeurope",
                    "name": "vars.rg",
                    "provisioning_state": "Succeeded",
                    "tags": null
                }
            }
        ]
    }
}
2020-12-13 23:10:17,529 p=3226 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:10:17,553 p=3325 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:10:17,553 p=3325 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:10:17,559 p=3325 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364 `" && echo ansible-tmp-1607901017.5590398-3325-41769402627364="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364 `" ) && sleep 0'
2020-12-13 23:10:17,567 p=3325 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:10:17,782 p=3325 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:10:17,783 p=3325 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3226xvrcbav_/tmp0dh8g9mw TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:10:17,783 p=3325 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:10:17,790 p=3325 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:10:22,629 p=3325 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901017.5590398-3325-41769402627364/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:10:22,649 p=3226 u=leonardopuga n=ansible | changed: [localhost] => (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": true,
    "check_mode": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "vars.rg",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "state": {
        "address_prefixes": [
            "10.0.0.0/16"
        ],
        "etag": "W/\"0302d2ef-44a9-4210-aabd-d09b3fd5f4fd\"",
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible",
        "location": "westeurope",
        "name": "vnet-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": null,
        "type": "Microsoft.Network/virtualNetworks"
    }
}
2020-12-13 23:10:22,663 p=3226 u=leonardopuga n=ansible | TASK [azrm-vnet : debug] *************************************************************************************************************************************
2020-12-13 23:10:22,684 p=3226 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "VNets creation output: {'results': [{'changed': True, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible', 'name': 'vnet-auto-ansible', 'location': 'westeurope', 'type': 'Microsoft.Network/virtualNetworks', 'tags': None, 'provisioning_state': 'Succeeded', 'etag': 'W/\"0302d2ef-44a9-4210-aabd-d09b3fd5f4fd\"', 'address_prefixes': ['10.0.0.0/16']}, 'check_mode': False, 'invocation': {'module_args': {'resource_group': 'vars.rg', 'name': 'vnet-auto-ansible', 'address_prefixes': '10.0.0.0/16', 'address_prefixes_cidr': ['10.0.0.0/16'], 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'purge_address_prefixes': False, 'purge_dns_servers': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'location': None, 'dns_servers': None}}, 'failed': False, 'item': {'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}, 'ansible_loop_var': 'item'}], 'changed': True, 'msg': 'All items completed'}"
}
2020-12-13 23:10:22,696 p=3226 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:10:22,706 p=3226 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:10:22,707 p=3226 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:10:22,707 p=3226 u=leonardopuga n=ansible | localhost                  : ok=5    changed=2    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 23:13:31,567 p=3432 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:13:31,568 p=3432 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:13:31,569 p=3432 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:13:31,594 p=3432 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:13:31,594 p=3432 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:13:31,599 p=3432 u=leonardopuga n=ansible | toml declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:13:31,600 p=3432 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with auto plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:13:31,600 p=3432 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/auto.py", line 41, in parse
    config_data = loader.load_from_file(path, cache=False)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 97, in load_from_file
    parsed_data = self.load(data=file_data, file_name=file_name, show_content=show_content, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 80, in load
    return from_yaml(data, file_name, show_content, self._vault.secrets, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 81, in from_yaml
    _handle_error(json_exc, yaml_exc, file_name, show_content)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 42, in _handle_error
    raise AnsibleParserError(to_native(err_msg), obj=err_obj, show_content=show_content, orig_exc=yaml_exc)

2020-12-13 23:13:31,601 p=3432 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with yaml plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:13:31,601 p=3432 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/yaml.py", line 105, in parse
    raise AnsibleParserError(e)

2020-12-13 23:13:31,601 p=3432 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with ini plugin: /home/leonardopuga/ansible-
tryouts/az-resources/inventory-az-resources.yaml:1: Section [localhost:vars] not valid for undefined group: localhost

2020-12-13 23:13:31,601 p=3432 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/ini.py", line 138, in parse
    raise AnsibleParserError(e)

2020-12-13 23:13:31,601 p=3432 u=leonardopuga n=ansible | [WARNING]: Unable to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as an inventory source

2020-12-13 23:13:31,602 p=3432 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 23:13:31,612 p=3432 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:13:31,932 p=3432 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:13:31,933 p=3432 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:13:31,939 p=3432 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:13:31,955 p=3432 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:13:31,971 p=3432 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:13:31,971 p=3432 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:13:31,971 p=3432 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:13:31,972 p=3432 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:13:31,972 p=3432 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:13:31,975 p=3432 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:13:31,985 p=3432 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:13:31,999 p=3439 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:13:32,000 p=3439 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:13:32,006 p=3439 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196 `" && echo ansible-tmp-1607901212.0056422-3439-75579849526196="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196 `" ) && sleep 0'
2020-12-13 23:13:32,370 p=3439 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:13:32,371 p=3439 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3432s_v_9k21/tmp82i9852p TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196/AnsiballZ_setup.py
2020-12-13 23:13:32,372 p=3439 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:13:32,378 p=3439 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:13:33,047 p=3439 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901212.0056422-3439-75579849526196/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:13:33,076 p=3432 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:13:33,087 p=3432 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:13:33,111 p=3432 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:13:33,138 p=3495 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:13:33,138 p=3495 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:13:33,146 p=3495 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556 `" && echo ansible-tmp-1607901213.1453578-3495-20206503865556="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556 `" ) && sleep 0'
2020-12-13 23:13:33,155 p=3495 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:13:33,363 p=3495 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:13:33,364 p=3495 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3432s_v_9k21/tmpxmobll9u TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:13:33,365 p=3495 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:13:33,371 p=3495 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:13:34,493 p=3495 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901213.1453578-3495-20206503865556/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:13:34,509 p=3432 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'vars.rg', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "contains_resources": true,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "vars.rg",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "vars.rg"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg",
        "location": "westeurope",
        "name": "vars.rg",
        "provisioning_state": "Succeeded",
        "tags": {}
    }
}
2020-12-13 23:13:34,521 p=3432 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:13:34,545 p=3432 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg_output": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": true,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "vars.rg",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "vars.rg"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg",
                    "location": "westeurope",
                    "name": "vars.rg",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:13:34,557 p=3432 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:13:34,581 p=3526 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:13:34,581 p=3526 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:13:34,587 p=3526 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066 `" && echo ansible-tmp-1607901214.586997-3526-189341414860066="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066 `" ) && sleep 0'
2020-12-13 23:13:34,596 p=3526 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:13:34,809 p=3526 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:13:34,810 p=3526 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3432s_v_9k21/tmphayfx8ud TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:13:34,811 p=3526 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:13:34,817 p=3526 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:13:36,108 p=3526 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901214.586997-3526-189341414860066/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:13:36,123 p=3432 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "check_mode": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "vars.rg",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "state": {
        "address_prefixes": [
            "10.0.0.0/16"
        ],
        "etag": "W/\"0302d2ef-44a9-4210-aabd-d09b3fd5f4fd\"",
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible",
        "location": "westeurope",
        "name": "vnet-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {},
        "type": "Microsoft.Network/virtualNetworks"
    }
}
2020-12-13 23:13:36,136 p=3432 u=leonardopuga n=ansible | TASK [azrm-vnet : debug] *************************************************************************************************************************************
2020-12-13 23:13:36,162 p=3432 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "VNets creation output: {'results': [{'changed': False, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible', 'name': 'vnet-auto-ansible', 'location': 'westeurope', 'type': 'Microsoft.Network/virtualNetworks', 'tags': {}, 'provisioning_state': 'Succeeded', 'etag': 'W/\"0302d2ef-44a9-4210-aabd-d09b3fd5f4fd\"', 'address_prefixes': ['10.0.0.0/16']}, 'check_mode': False, 'invocation': {'module_args': {'resource_group': 'vars.rg', 'name': 'vnet-auto-ansible', 'address_prefixes': '10.0.0.0/16', 'address_prefixes_cidr': ['10.0.0.0/16'], 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'purge_address_prefixes': False, 'purge_dns_servers': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'location': None, 'dns_servers': None}}, 'failed': False, 'item': {'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 23:13:36,175 p=3432 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:13:36,184 p=3432 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:13:36,185 p=3432 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:13:36,185 p=3432 u=leonardopuga n=ansible | localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
2020-12-13 23:14:29,170 p=3583 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:14:29,170 p=3583 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:14:29,171 p=3583 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:14:29,196 p=3583 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:14:29,196 p=3583 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:14:29,200 p=3583 u=leonardopuga n=ansible | toml declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:14:29,201 p=3583 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with auto plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:14:29,201 p=3583 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/auto.py", line 41, in parse
    config_data = loader.load_from_file(path, cache=False)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 97, in load_from_file
    parsed_data = self.load(data=file_data, file_name=file_name, show_content=show_content, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 80, in load
    return from_yaml(data, file_name, show_content, self._vault.secrets, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 81, in from_yaml
    _handle_error(json_exc, yaml_exc, file_name, show_content)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 42, in _handle_error
    raise AnsibleParserError(to_native(err_msg), obj=err_obj, show_content=show_content, orig_exc=yaml_exc)

2020-12-13 23:14:29,202 p=3583 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with yaml plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:14:29,202 p=3583 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/yaml.py", line 105, in parse
    raise AnsibleParserError(e)

2020-12-13 23:14:29,202 p=3583 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with ini plugin: /home/leonardopuga/ansible-
tryouts/az-resources/inventory-az-resources.yaml:1: Section [localhost:vars] not valid for undefined group: localhost

2020-12-13 23:14:29,203 p=3583 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/ini.py", line 138, in parse
    raise AnsibleParserError(e)

2020-12-13 23:14:29,203 p=3583 u=leonardopuga n=ansible | [WARNING]: Unable to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as an inventory source

2020-12-13 23:14:29,203 p=3583 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 23:14:29,213 p=3583 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:14:29,530 p=3583 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:14:29,531 p=3583 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:14:29,537 p=3583 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:14:29,552 p=3583 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:14:29,568 p=3583 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:14:29,568 p=3583 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:14:29,568 p=3583 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:14:29,569 p=3583 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:14:29,569 p=3583 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:14:29,572 p=3583 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:14:29,582 p=3583 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:14:29,596 p=3589 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:14:29,597 p=3589 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:14:29,603 p=3589 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278 `" && echo ansible-tmp-1607901269.6024005-3589-150255105909278="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278 `" ) && sleep 0'
2020-12-13 23:14:29,969 p=3589 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:14:29,970 p=3589 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-35838ysm9ct2/tmpxuksd51z TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278/AnsiballZ_setup.py
2020-12-13 23:14:29,971 p=3589 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:14:29,977 p=3589 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:14:30,637 p=3589 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901269.6024005-3589-150255105909278/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:14:30,664 p=3583 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:14:30,675 p=3583 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:14:30,699 p=3583 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:14:30,718 p=3583 u=leonardopuga n=ansible | fatal: [localhost]: FAILED! => {
    "msg": "[AnsibleMapping([('name', '{{vars.rg}}'), ('location', 'westeurope')])]: 'dict object' has no attribute 'rg'"
}
2020-12-13 23:14:30,721 p=3583 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:14:30,721 p=3583 u=leonardopuga n=ansible | localhost                  : ok=1    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 23:17:52,711 p=3710 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:17:52,711 p=3710 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:17:52,712 p=3710 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:17:52,737 p=3710 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:17:52,738 p=3710 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:17:52,742 p=3710 u=leonardopuga n=ansible | toml declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:17:52,743 p=3710 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with auto plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:17:52,743 p=3710 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/auto.py", line 41, in parse
    config_data = loader.load_from_file(path, cache=False)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 97, in load_from_file
    parsed_data = self.load(data=file_data, file_name=file_name, show_content=show_content, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 80, in load
    return from_yaml(data, file_name, show_content, self._vault.secrets, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 81, in from_yaml
    _handle_error(json_exc, yaml_exc, file_name, show_content)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 42, in _handle_error
    raise AnsibleParserError(to_native(err_msg), obj=err_obj, show_content=show_content, orig_exc=yaml_exc)

2020-12-13 23:17:52,744 p=3710 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with yaml plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:17:52,744 p=3710 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/yaml.py", line 105, in parse
    raise AnsibleParserError(e)

2020-12-13 23:17:52,744 p=3710 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with ini plugin: /home/leonardopuga/ansible-
tryouts/az-resources/inventory-az-resources.yaml:1: Section [localhost:vars] not valid for undefined group: localhost

2020-12-13 23:17:52,744 p=3710 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/ini.py", line 138, in parse
    raise AnsibleParserError(e)

2020-12-13 23:17:52,745 p=3710 u=leonardopuga n=ansible | [WARNING]: Unable to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as an inventory source

2020-12-13 23:17:52,745 p=3710 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 23:17:52,755 p=3710 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:17:53,074 p=3710 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:17:53,074 p=3710 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:17:53,080 p=3710 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:17:53,096 p=3710 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:17:53,112 p=3710 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:17:53,112 p=3710 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:17:53,113 p=3710 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:17:53,113 p=3710 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:17:53,113 p=3710 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:17:53,116 p=3710 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:17:53,126 p=3710 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:17:53,140 p=3716 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:17:53,141 p=3716 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:17:53,147 p=3716 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168 `" && echo ansible-tmp-1607901473.146367-3716-182228272021168="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168 `" ) && sleep 0'
2020-12-13 23:17:53,513 p=3716 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:17:53,514 p=3716 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3710obi_gi48/tmppx1z8rtz TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168/AnsiballZ_setup.py
2020-12-13 23:17:53,515 p=3716 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:17:53,521 p=3716 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:17:54,189 p=3716 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901473.146367-3716-182228272021168/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:17:54,218 p=3710 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:17:54,228 p=3710 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:17:54,253 p=3710 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:17:54,280 p=3772 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:17:54,281 p=3772 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:17:54,286 p=3772 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548 `" && echo ansible-tmp-1607901474.2863348-3772-160683817327548="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548 `" ) && sleep 0'
2020-12-13 23:17:54,295 p=3772 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:17:54,522 p=3772 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:17:54,523 p=3772 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3710obi_gi48/tmpuxmfhggt TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:17:54,524 p=3772 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:17:54,531 p=3772 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:17:55,665 p=3772 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901474.2863348-3772-160683817327548/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:17:55,681 p=3710 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "contains_resources": true,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "rg-auto-ansible",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "rg-auto-ansible"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
        "location": "westeurope",
        "name": "rg-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {}
    }
}
2020-12-13 23:17:55,693 p=3710 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:17:55,717 p=3710 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg_output": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": true,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:17:55,728 p=3710 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:17:55,752 p=3803 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:17:55,752 p=3803 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:17:55,758 p=3803 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046 `" && echo ansible-tmp-1607901475.7575204-3803-242032684488046="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046 `" ) && sleep 0'
2020-12-13 23:17:55,766 p=3803 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:17:55,978 p=3803 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:17:55,979 p=3803 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3710obi_gi48/tmpq34ogm18 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:17:55,979 p=3803 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:17:55,986 p=3803 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:17:57,258 p=3803 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901475.7575204-3803-242032684488046/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:17:57,274 p=3710 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "check_mode": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "vars.rg",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "state": {
        "address_prefixes": [
            "10.0.0.0/16"
        ],
        "etag": "W/\"0302d2ef-44a9-4210-aabd-d09b3fd5f4fd\"",
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible",
        "location": "westeurope",
        "name": "vnet-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {},
        "type": "Microsoft.Network/virtualNetworks"
    }
}
2020-12-13 23:17:57,286 p=3710 u=leonardopuga n=ansible | TASK [azrm-vnet : debug] *************************************************************************************************************************************
2020-12-13 23:17:57,306 p=3710 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "VNets creation output: {'results': [{'changed': False, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/vars.rg/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible', 'name': 'vnet-auto-ansible', 'location': 'westeurope', 'type': 'Microsoft.Network/virtualNetworks', 'tags': {}, 'provisioning_state': 'Succeeded', 'etag': 'W/\"0302d2ef-44a9-4210-aabd-d09b3fd5f4fd\"', 'address_prefixes': ['10.0.0.0/16']}, 'check_mode': False, 'invocation': {'module_args': {'resource_group': 'vars.rg', 'name': 'vnet-auto-ansible', 'address_prefixes': '10.0.0.0/16', 'address_prefixes_cidr': ['10.0.0.0/16'], 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'purge_address_prefixes': False, 'purge_dns_servers': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'location': None, 'dns_servers': None}}, 'failed': False, 'item': {'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 23:17:57,316 p=3710 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:17:57,325 p=3710 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:17:57,326 p=3710 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:17:57,327 p=3710 u=leonardopuga n=ansible | localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
