2020-12-13 23:25:14,414 p=3979 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:25:14,415 p=3979 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:25:14,415 p=3979 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:25:14,440 p=3979 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:25:14,441 p=3979 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:25:14,445 p=3979 u=leonardopuga n=ansible | toml declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:25:14,446 p=3979 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with auto plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:25:14,446 p=3979 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/auto.py", line 41, in parse
    config_data = loader.load_from_file(path, cache=False)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 97, in load_from_file
    parsed_data = self.load(data=file_data, file_name=file_name, show_content=show_content, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 80, in load
    return from_yaml(data, file_name, show_content, self._vault.secrets, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 81, in from_yaml
    _handle_error(json_exc, yaml_exc, file_name, show_content)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 42, in _handle_error
    raise AnsibleParserError(to_native(err_msg), obj=err_obj, show_content=show_content, orig_exc=yaml_exc)

2020-12-13 23:25:14,447 p=3979 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with yaml plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:25:14,447 p=3979 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/yaml.py", line 105, in parse
    raise AnsibleParserError(e)

2020-12-13 23:25:14,447 p=3979 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with ini plugin: /home/leonardopuga/ansible-
tryouts/az-resources/inventory-az-resources.yaml:1: Section [localhost:vars] not valid for undefined group: localhost

2020-12-13 23:25:14,447 p=3979 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/ini.py", line 138, in parse
    raise AnsibleParserError(e)

2020-12-13 23:25:14,448 p=3979 u=leonardopuga n=ansible | [WARNING]: Unable to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as an inventory source

2020-12-13 23:25:14,448 p=3979 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 23:25:14,458 p=3979 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:25:14,777 p=3979 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:25:14,778 p=3979 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:25:14,784 p=3979 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:25:14,799 p=3979 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:25:14,816 p=3979 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:25:14,816 p=3979 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:25:14,816 p=3979 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:25:14,816 p=3979 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:25:14,817 p=3979 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:25:14,820 p=3979 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:25:14,830 p=3979 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:25:14,844 p=3985 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:25:14,844 p=3985 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:25:14,851 p=3985 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583 `" && echo ansible-tmp-1607901914.850325-3985-226661561049583="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583 `" ) && sleep 0'
2020-12-13 23:25:15,218 p=3985 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:25:15,219 p=3985 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3979c6x9cntd/tmp2b7l3pel TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583/AnsiballZ_setup.py
2020-12-13 23:25:15,220 p=3985 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:25:15,226 p=3985 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:25:15,901 p=3985 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901914.850325-3985-226661561049583/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:25:15,929 p=3979 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:25:15,939 p=3979 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:25:15,963 p=3979 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:25:15,990 p=4041 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:25:15,990 p=4041 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:25:15,996 p=4041 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496 `" && echo ansible-tmp-1607901915.9958515-4041-166205468231496="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496 `" ) && sleep 0'
2020-12-13 23:25:16,004 p=4041 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:25:16,214 p=4041 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:25:16,215 p=4041 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3979c6x9cntd/tmpqsvejjup TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:25:16,216 p=4041 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:25:16,222 p=4041 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:25:18,942 p=4041 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901915.9958515-4041-166205468231496/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:25:18,958 p=3979 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "contains_resources": true,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "rg-auto-ansible",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "rg-auto-ansible"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
        "location": "westeurope",
        "name": "rg-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {}
    }
}
2020-12-13 23:25:18,970 p=3979 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:25:18,995 p=3979 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg_output": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": true,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:25:19,005 p=3979 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:25:19,029 p=4078 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:25:19,030 p=4078 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:25:19,036 p=4078 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207 `" && echo ansible-tmp-1607901919.0353844-4078-55255108839207="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207 `" ) && sleep 0'
2020-12-13 23:25:19,044 p=4078 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:25:19,230 p=4078 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:25:19,231 p=4078 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-3979c6x9cntd/tmp495bods9 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:25:19,231 p=4078 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:25:19,238 p=4078 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:25:20,271 p=4078 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607901919.0353844-4078-55255108839207/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:25:20,286 p=3979 u=leonardopuga n=ansible | The full traceback is:
  File "/tmp/ansible_azure_rm_virtualnetwork_payload_prbw3rt4/ansible_azure_rm_virtualnetwork_payload.zip/ansible_collections/azure/azcollection/plugins/module_utils/azure_rm_common.py", line 560, in get_resource_group
    return self.rm_client.resource_groups.get(resource_group)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/azure/mgmt/resource/resources/v2017_05_10/operations/_resource_groups_operations.py", line 294, in get
    raise exp

2020-12-13 23:25:20,287 p=3979 u=leonardopuga n=ansible | failed: [localhost] (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "vars.rg",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "msg": "Error retrieving resource group vars.rg - Resource group 'vars.rg' could not be found."
}
2020-12-13 23:25:20,291 p=3979 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:25:20,291 p=3979 u=leonardopuga n=ansible | localhost                  : ok=3    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
2020-12-13 23:27:16,213 p=4211 u=leonardopuga n=ansible | ansible-playbook 2.10.3
  config file = /home/leonardopuga/ansible-tryouts/ansible.cfg
  configured module search path = ['/home/leonardopuga/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible
  executable location = /home/leonardopuga/ansible-controller/bin/ansible-playbook
  python version = 3.6.9 (default, Oct  8 2020, 12:12:24) [GCC 8.4.0]
2020-12-13 23:27:16,214 p=4211 u=leonardopuga n=ansible | Using /home/leonardopuga/ansible-tryouts/ansible.cfg as config file
2020-12-13 23:27:16,214 p=4211 u=leonardopuga n=ansible | setting up inventory plugins
2020-12-13 23:27:16,239 p=4211 u=leonardopuga n=ansible | host_list declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:27:16,240 p=4211 u=leonardopuga n=ansible | script declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:27:16,244 p=4211 u=leonardopuga n=ansible | toml declined parsing /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as it did not pass its verify_file() method
2020-12-13 23:27:16,245 p=4211 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with auto plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:27:16,245 p=4211 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/auto.py", line 41, in parse
    config_data = loader.load_from_file(path, cache=False)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 97, in load_from_file
    parsed_data = self.load(data=file_data, file_name=file_name, show_content=show_content, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/dataloader.py", line 80, in load
    return from_yaml(data, file_name, show_content, self._vault.secrets, json_only=json_only)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 81, in from_yaml
    _handle_error(json_exc, yaml_exc, file_name, show_content)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/parsing/utils/yaml.py", line 42, in _handle_error
    raise AnsibleParserError(to_native(err_msg), obj=err_obj, show_content=show_content, orig_exc=yaml_exc)

2020-12-13 23:27:16,246 p=4211 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with yaml plugin: We were unable to read either as
JSON nor YAML, these are the errors we got from each: JSON: Expecting value: line 1 column 2 (char 1)  Syntax Error while loading YAML.   expected '<document
start>', but found '<scalar>'  The error appears to be in '/home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml': line 2, column 1,
but may be elsewhere in the file depending on the exact syntax problem.  The offending line appears to be:  [localhost:vars] rg=rg-auto-ansible ^ here

2020-12-13 23:27:16,246 p=4211 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/yaml.py", line 105, in parse
    raise AnsibleParserError(e)

2020-12-13 23:27:16,246 p=4211 u=leonardopuga n=ansible | [WARNING]:  * Failed to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml with ini plugin: /home/leonardopuga/ansible-
tryouts/az-resources/inventory-az-resources.yaml:1: Section [localhost:vars] not valid for undefined group: localhost

2020-12-13 23:27:16,246 p=4211 u=leonardopuga n=ansible |   File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/inventory/manager.py", line 289, in parse_source
    plugin.parse(self._inventory, self._loader, source, cache=cache)
  File "/home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/inventory/ini.py", line 138, in parse
    raise AnsibleParserError(e)

2020-12-13 23:27:16,247 p=4211 u=leonardopuga n=ansible | [WARNING]: Unable to parse /home/leonardopuga/ansible-tryouts/az-resources/inventory-az-resources.yaml as an inventory source

2020-12-13 23:27:16,247 p=4211 u=leonardopuga n=ansible | [WARNING]: No inventory was parsed, only implicit localhost is available

2020-12-13 23:27:16,257 p=4211 u=leonardopuga n=ansible | [WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

2020-12-13 23:27:16,576 p=4211 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:27:16,577 p=4211 u=leonardopuga n=ansible | Loading collection azure.azcollection from /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection
2020-12-13 23:27:16,583 p=4211 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:27:16,599 p=4211 u=leonardopuga n=ansible | Loading callback plugin default of type stdout, v2.0 from /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/plugins/callback/default.py
2020-12-13 23:27:16,615 p=4211 u=leonardopuga n=ansible | Skipping callback 'default', as we already have a stdout callback.
2020-12-13 23:27:16,615 p=4211 u=leonardopuga n=ansible | Skipping callback 'minimal', as we already have a stdout callback.
2020-12-13 23:27:16,615 p=4211 u=leonardopuga n=ansible | Skipping callback 'oneline', as we already have a stdout callback.
2020-12-13 23:27:16,615 p=4211 u=leonardopuga n=ansible | PLAYBOOK: playlist-az-resources.yaml *************************************************************************************************************************
2020-12-13 23:27:16,616 p=4211 u=leonardopuga n=ansible | 1 plays in az-resources/playlist-az-resources.yaml
2020-12-13 23:27:16,619 p=4211 u=leonardopuga n=ansible | PLAY [Create Azure Resources] ********************************************************************************************************************************
2020-12-13 23:27:16,629 p=4211 u=leonardopuga n=ansible | TASK [Gathering Facts] ***************************************************************************************************************************************
2020-12-13 23:27:16,643 p=4217 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:27:16,643 p=4217 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:27:16,649 p=4217 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363 `" && echo ansible-tmp-1607902036.648775-4217-161771229060363="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363 `" ) && sleep 0'
2020-12-13 23:27:17,042 p=4217 u=leonardopuga n=ansible | Using module file /home/leonardopuga/ansible-controller/lib/python3.6/site-packages/ansible/modules/setup.py
2020-12-13 23:27:17,043 p=4217 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-42114tcn4q0f/tmp3we15hvn TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363/AnsiballZ_setup.py
2020-12-13 23:27:17,044 p=4217 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:27:17,051 p=4217 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363/AnsiballZ_setup.py && sleep 0'
2020-12-13 23:27:17,737 p=4217 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902036.648775-4217-161771229060363/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:27:17,764 p=4211 u=leonardopuga n=ansible | ok: [localhost]
2020-12-13 23:27:17,775 p=4211 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:27:17,799 p=4211 u=leonardopuga n=ansible | TASK [azrm-rg : Creating resource group - "{{ name }}"] ******************************************************************************************************
2020-12-13 23:27:17,826 p=4279 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:27:17,827 p=4279 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:27:17,832 p=4279 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128 `" && echo ansible-tmp-1607902037.832303-4279-280639362111128="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128 `" ) && sleep 0'
2020-12-13 23:27:17,841 p=4279 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_resourcegroup to azure.azcollection.azure_rm_resourcegroup
2020-12-13 23:27:18,060 p=4279 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_resourcegroup.py
2020-12-13 23:27:18,060 p=4279 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-42114tcn4q0f/tmp0ehb4la0 TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128/AnsiballZ_azure_rm_resourcegroup.py
2020-12-13 23:27:18,061 p=4279 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:27:18,068 p=4279 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128/AnsiballZ_azure_rm_resourcegroup.py && sleep 0'
2020-12-13 23:27:19,170 p=4279 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902037.832303-4279-280639362111128/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:27:19,185 p=4211 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'rg-auto-ansible', 'location': 'westeurope'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "contains_resources": true,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "force_delete_nonempty": false,
            "location": "westeurope",
            "name": "rg-auto-ansible",
            "password": null,
            "profile": null,
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "location": "westeurope",
        "name": "rg-auto-ansible"
    },
    "state": {
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
        "location": "westeurope",
        "name": "rg-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {}
    }
}
2020-12-13 23:27:19,198 p=4211 u=leonardopuga n=ansible | TASK [azrm-rg : debug] ***************************************************************************************************************************************
2020-12-13 23:27:19,222 p=4211 u=leonardopuga n=ansible | ok: [localhost] => {
    "rg_output": {
        "changed": false,
        "msg": "All items completed",
        "results": [
            {
                "ansible_loop_var": "item",
                "changed": false,
                "contains_resources": true,
                "failed": false,
                "invocation": {
                    "module_args": {
                        "ad_user": null,
                        "adfs_authority_url": null,
                        "api_profile": "latest",
                        "append_tags": true,
                        "auth_source": "auto",
                        "cert_validation_mode": null,
                        "client_id": null,
                        "cloud_environment": "AzureCloud",
                        "force_delete_nonempty": false,
                        "location": "westeurope",
                        "name": "rg-auto-ansible",
                        "password": null,
                        "profile": null,
                        "secret": null,
                        "state": "present",
                        "subscription_id": null,
                        "tags": null,
                        "tenant": null
                    }
                },
                "item": {
                    "location": "westeurope",
                    "name": "rg-auto-ansible"
                },
                "state": {
                    "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible",
                    "location": "westeurope",
                    "name": "rg-auto-ansible",
                    "provisioning_state": "Succeeded",
                    "tags": {}
                }
            }
        ]
    }
}
2020-12-13 23:27:19,234 p=4211 u=leonardopuga n=ansible | TASK [azrm-vnet : Create virtual network] ********************************************************************************************************************
2020-12-13 23:27:19,259 p=4310 u=leonardopuga n=ansible | <127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: leonardopuga
2020-12-13 23:27:19,260 p=4310 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'echo ~leonardopuga && sleep 0'
2020-12-13 23:27:19,266 p=4310 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/leonardopuga/.ansible/tmp `"&& mkdir "` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827 `" && echo ansible-tmp-1607902039.2653148-4310-108667876673827="` echo /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827 `" ) && sleep 0'
2020-12-13 23:27:19,274 p=4310 u=leonardopuga n=ansible | redirecting (type: modules) ansible.builtin.azure_rm_virtualnetwork to azure.azcollection.azure_rm_virtualnetwork
2020-12-13 23:27:19,492 p=4310 u=leonardopuga n=ansible | Using module file /home/leonardopuga/.ansible/collections/ansible_collections/azure/azcollection/plugins/modules/azure_rm_virtualnetwork.py
2020-12-13 23:27:19,493 p=4310 u=leonardopuga n=ansible | <127.0.0.1> PUT /home/leonardopuga/.ansible/tmp/ansible-local-42114tcn4q0f/tmpxgnrssxb TO /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827/AnsiballZ_azure_rm_virtualnetwork.py
2020-12-13 23:27:19,494 p=4310 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827/ /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:27:19,500 p=4310 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c '/home/leonardopuga/ansible-controller/bin/python /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827/AnsiballZ_azure_rm_virtualnetwork.py && sleep 0'
2020-12-13 23:27:20,745 p=4310 u=leonardopuga n=ansible | <127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/leonardopuga/.ansible/tmp/ansible-tmp-1607902039.2653148-4310-108667876673827/ > /dev/null 2>&1 && sleep 0'
2020-12-13 23:27:20,761 p=4211 u=leonardopuga n=ansible | ok: [localhost] => (item={'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}) => {
    "ansible_loop_var": "item",
    "changed": false,
    "check_mode": false,
    "invocation": {
        "module_args": {
            "ad_user": null,
            "address_prefixes": "10.0.0.0/16",
            "address_prefixes_cidr": [
                "10.0.0.0/16"
            ],
            "adfs_authority_url": null,
            "api_profile": "latest",
            "append_tags": true,
            "auth_source": "auto",
            "cert_validation_mode": null,
            "client_id": null,
            "cloud_environment": "AzureCloud",
            "dns_servers": null,
            "location": null,
            "name": "vnet-auto-ansible",
            "password": null,
            "profile": null,
            "purge_address_prefixes": false,
            "purge_dns_servers": false,
            "resource_group": "rg-auto-ansible",
            "secret": null,
            "state": "present",
            "subscription_id": null,
            "tags": null,
            "tenant": null
        }
    },
    "item": {
        "add_pref": "10.0.0.0/16",
        "name": "vnet-auto-ansible"
    },
    "state": {
        "address_prefixes": [
            "10.0.0.0/16"
        ],
        "etag": "W/\"d8bd99e7-0dde-4aed-b7c3-ff63a0b1e204\"",
        "id": "/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible",
        "location": "westeurope",
        "name": "vnet-auto-ansible",
        "provisioning_state": "Succeeded",
        "tags": {},
        "type": "Microsoft.Network/virtualNetworks"
    }
}
2020-12-13 23:27:20,773 p=4211 u=leonardopuga n=ansible | TASK [azrm-vnet : debug] *************************************************************************************************************************************
2020-12-13 23:27:20,794 p=4211 u=leonardopuga n=ansible | ok: [localhost] => {
    "msg": "VNets creation output: {'results': [{'changed': False, 'state': {'id': '/subscriptions/45d75553-0f88-4efd-b859-050ec7ab4fe7/resourceGroups/rg-auto-ansible/providers/Microsoft.Network/virtualNetworks/vnet-auto-ansible', 'name': 'vnet-auto-ansible', 'location': 'westeurope', 'type': 'Microsoft.Network/virtualNetworks', 'tags': {}, 'provisioning_state': 'Succeeded', 'etag': 'W/\"d8bd99e7-0dde-4aed-b7c3-ff63a0b1e204\"', 'address_prefixes': ['10.0.0.0/16']}, 'check_mode': False, 'invocation': {'module_args': {'resource_group': 'rg-auto-ansible', 'name': 'vnet-auto-ansible', 'address_prefixes': '10.0.0.0/16', 'address_prefixes_cidr': ['10.0.0.0/16'], 'auth_source': 'auto', 'cloud_environment': 'AzureCloud', 'api_profile': 'latest', 'append_tags': True, 'state': 'present', 'purge_address_prefixes': False, 'purge_dns_servers': False, 'profile': None, 'subscription_id': None, 'client_id': None, 'secret': None, 'tenant': None, 'ad_user': None, 'password': None, 'cert_validation_mode': None, 'adfs_authority_url': None, 'tags': None, 'location': None, 'dns_servers': None}}, 'failed': False, 'item': {'name': 'vnet-auto-ansible', 'add_pref': '10.0.0.0/16'}, 'ansible_loop_var': 'item'}], 'msg': 'All items completed', 'changed': False}"
}
2020-12-13 23:27:20,804 p=4211 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:27:20,813 p=4211 u=leonardopuga n=ansible | META: ran handlers
2020-12-13 23:27:20,814 p=4211 u=leonardopuga n=ansible | PLAY RECAP ***************************************************************************************************************************************************
2020-12-13 23:27:20,814 p=4211 u=leonardopuga n=ansible | localhost                  : ok=5    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
